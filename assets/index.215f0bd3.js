import{f as Pe,r as y,c as me,E as ne,d as M,a as xe,b as ye,o as F,e as x,g as S,w as I,u as v,i as j,F as V,h as G,j as D,k as o,l as Ce,m as $e,v as Se,n as Q,t as f,p as Ee,q,s as oe,x as ce,y as ue,z as N,A as Ae,_ as Be,B as we,C as ke,D as De,G as be,H as Re,I as Me}from"./vendor.6947ab53.js";const Ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function c(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=c(n);fetch(n.href,i)}};Ne();function W(e,t){return Pe(e,t||{timeout:1e3*5,jsonpCallback:"cb"}).then(c=>c.json())}function He(e,t=1,c=10){const s=`https://searchapi.eastmoney.com/api/Info/Search?appid=el1902262&type=14&token=CCSDCZSDCXYMYZYYSYYXSMDDSMDHHDJT&and14=MultiMatch/Name,Code,PinYin/${e}/true&returnfields14=Name,Code,PinYin,MarketType,JYS,MktNum,JYS4App,MktNum4App,ID,Classify,IsExactMatch,SecurityType,SecurityTypeName&pageIndex14=${t}&pageSize14=${c}&isAssociation14=false1642753371132`;return W(s)}function ae(e){return e&&e.data&&e.data.klines&&(e.data.klineDatas=e.data.klines.map(t=>{const c=t.split(","),s=c[0];let n=s,i="";return s.includes(" ")&&([n,i]=s.split(" ")),{dateStr:n,timeStr:i,openPrice:parseFloat(c[1]),closePrice:parseFloat(c[2]),highPrice:parseFloat(c[3]),lowPrice:parseFloat(c[4])}})),e}async function Ie(e){const t=`https://push2his.eastmoney.com/api/qt/stock/kline/get?fields1=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&beg=0&end=20500101&ut=fa5fd1943c7b386f172d6893dbfba10b&rtntype=6&secid=${e}&klt=5&fqt=1
  `,c=await W(t);return ae(c)}async function Ve(e,t){const c=`https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=${e}&ut=fa5fd1943c7b386f172d6893dbfba10b&fields1=f1,f2,f3,f4,f5,f6&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&klt=101&fqt=0&end=20500101&lmt=${t}&_=${Date.now()}`,s=await W(c);return ae(s)}const X="history_search_results";let O=y();const Ge=me(()=>{if(!O.value||O.value.length===0)return 0;const e=O.value.length,t=window.screen.width,{simpleSwitch:c}=T();return c?t>=1536?8-e%8:t>=1280?7-e%7:t>=1024?6-e%6:t>=768?4-e%4:2-e%2:t>=1536?5-e%5:t>=1280?4-e%4:t>=1024?3-e%3:t>=768?2-e%2:0});function L(){const e=()=>{const s=localStorage.getItem(X);return s?JSON.parse(s):[]};return{historyRows:O,historyFillRowCount:Ge,getHistory:e,updateHistory:(s,n=!1)=>{let i=e();const h=l=>s.market===l.market&&s.code===l.code&&s.name===l.name;if(n)i=i.filter(l=>!h(l)),i=[s,...i];else{const l=i.findIndex(h);l>-1?i[l]=s:i=[s,...i]}O.value=i,localStorage.setItem(X,JSON.stringify(i))},delHistory:s=>{let n=e();n=n.filter(i=>!(s.market===i.market&&s.code===i.code&&s.name===i.name)),O.value=n,localStorage.setItem(X,JSON.stringify(n))}}}function Oe(e,t){const c={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"f+":e.getMilliseconds()};for(const s in c)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,c[s].toString().padStart(RegExp.$1.length,"0")));return t}function le(e){return Oe(new Date,e)}function _(e=1,t=3){const c=Math.pow(10,t);return Math.round(e*c)/c}function Z(e,t,c){const s=t-c,n=(t+c+e*2)/4,i=_(n+s),h=_(n*2-c),l=_(n*2-t),a=_(n-s);return{highSalePrice:i,highSaleRate:_((i/e-1)*100,2),firstSalePrice:h,firstSaleRate:_((h/e-1)*100,2),firstBuyPrice:l,firstBuyRate:_((e/l-1)*100,2),lowBuyPrice:a,lowBuyRate:_((e/a-1)*100,2)}}const re=Number(le("Hmm")),de=re>=930&&re<=1500,Ye=!de,fe=y(!0),Je=y(!1);function T(){const{updateHistory:e}=L();return{isTradeTime:de,isShowNextSwitchChange:Ye,nextSwitch:fe,simpleSwitch:Je,calcNext:async(c,s=!1)=>{const n=await Ve(c,2);if(n&&n.data&&n.data.klineDatas&&n.data.klineDatas.length===2){const i=n.data.klineDatas,h=le("yyyy-MM-dd"),l=!fe.value||i[1].dateStr===h&&new Date().getHours()<15?i[0]:i[1],a=Z(l.closePrice,l.highPrice,l.lowPrice);e({market:n.data.market,code:n.data.code,name:n.data.name,nowPrice:i[1],nextPrice:a},s)}else ne.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")}}}const Le=y(""),ee=y(),te=y(!1),se=y("");function Te(){return{searchKeyword:Le,searchResultRows:ee,secid:se,loading:te,query:async c=>{if(console.log("queryStr : ",c),c){te.value=!0;const s=await He(c);ee.value=s.Data||[],te.value=!1}else ee.value=[]},selectChange:async c=>{if(!c)return;se.value=c.split("_")[0];const{calcNext:s}=T();return s(se.value,!0)}}}const ze={key:0},Ue=M({setup(e){const{searchKeyword:t,searchResultRows:c,loading:s,query:n,selectChange:i}=Te();return(h,l)=>{const a=xe,C=ye;return F(),x("div",ze,[S(C,{modelValue:v(t),"onUpdate:modelValue":l[0]||(l[0]=g=>j(t)?t.value=g:null),clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968/\u57FA\u91D1\u4EE3\u7801","remote-method":v(n),loading:v(s),onChange:v(i)},{default:I(()=>[(F(!0),x(V,null,G(v(c),g=>(F(),D(a,{key:`${g.MktNum}.${g.Code}_${g.Name}`,label:`${g.Code} ${g.Name} ${g.SecurityTypeName}`,value:`${g.MktNum}.${g.Code}_${g.Name}`},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading","onChange"])])}}}),Ke=["width","height"],je=["fill"],Qe=["fill"],pe=M({props:{width:{default:64},height:{default:64},fillBorder:{default:"#1afa29"},fillContent:{default:"#1afa29"}},setup(e){const t=e;return(c,s)=>(F(),x("svg",{t:"1644806599031",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6644",width:t.width,height:t.height},[o("path",{d:"M511.5 0.681C229.003 0.681 0 229.684 0 512.182c0 282.496 229.004 511.5 511.5 511.5 282.498 0 511.5-229.004 511.5-511.5C1023 229.684 793.998 0.681 511.5 0.681z m0 953.251c-243.943 0-441.75-197.807-441.75-441.75 0-243.989 197.807-441.751 441.75-441.751 243.99 0 441.75 197.762 441.75 441.751 0 243.943-197.76 441.75-441.75 441.75z","p-id":"6645",fill:t.fillBorder},null,8,je),o("path",{d:"M330.154 498.218c39.802 13.01 77.743 29.403 113.821 49.111l-24.521 37.372H511.5c4.836-15.984 7.992-31.424 9.49-46.318v-90.957h56.355v90.957c-1.113 16.394-3.338 31.833-6.676 46.318h176.328v55.265H548.895l-5.584 8.9c69.182 20.116 133.164 43.911 191.971 71.43l-32.922 50.769c-62.508-34.216-126.877-61.734-193.084-82.556-40.188 34.58-106.033 61.372-197.534 80.331L280.5 719.184c92.251-18.232 154.576-40.732 186.931-67.502l11.716-11.716h-203.12v-55.265h127.217c-32.354-18.981-65.845-34.217-100.425-45.751l27.335-40.732z m-47.975-117.182H483.05v-37.372H323.457v-52.449H483.05v-37.963h56.922v37.963h156.234v52.449H539.973v37.372h195.309v36.283c-8.219 37.917-19.367 75.336-33.512 112.163l-54.674-15.644c10.807-21.57 20.457-48.157 29.016-79.786H282.179v-53.016z m94.862 59.148c40.166 10.784 78.65 24.93 115.479 42.413l-28.995 44.07c-37.576-20.071-75.54-35.511-113.82-46.318l27.336-40.165z","p-id":"6646",fill:t.fillContent},null,8,Qe)],8,Ke))}}),qe=["width","height"],We=["fill"],Xe=["fill"],he=M({props:{width:{default:64},height:{default:64},fillBorder:{default:"#d81e06"},fillContent:{default:"#d81e06"}},setup(e){const t=e;return(c,s)=>(F(),x("svg",{t:"1644804245112",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5050",width:t.width,height:t.height},[o("path",{d:"M511.66 0.625C229.2 0.625 0.227 229.598 0.227 512.057S229.2 1023.488 511.66 1023.488c282.459 0 511.432-228.973 511.432-511.432S794.119 0.625 511.66 0.625z m0 953.123c-243.912 0-441.692-197.758-441.692-441.691 0-243.934 197.78-441.692 441.692-441.692 243.956 0 441.692 197.758 441.692 441.692 0 243.933-197.737 441.691-441.692 441.691z","p-id":"5051",fill:t.fillBorder},null,8,We),o("path",{d:"M510.57 344.391h57.436v117.721c-1.09 24.189-4.268 47.618-9.49 70.297h199.188v56.913H539.582l-8.943 17.855c76.596 31.988 148.971 67.505 217.031 106.564l-40.727 44.632c-65.475-40.172-134.26-76.245-206.454-108.243-0.727 0.749-1.089 1.316-1.089 1.68-41.273 43.895-107.518 77.551-198.644 100.979l-32.918-51.33c92.987-23.429 155.872-53.18 188.609-89.265a384.943 384.943 0 0 0 16.163-22.873H265.615v-56.913h232.65c6.311-20.818 10.443-44.258 12.305-70.297v-117.72z m-225.432-78.663h433.518v36.267c-8.58 33.474-19.16 66.018-31.781 97.63l-54.123-15.619c10.762-20.092 19.342-41.659 25.654-64.724H285.138v-53.554z m33.508 145.61c43.861 17.118 82.363 37.016 115.463 59.707l-30.103 45.744c-36.46-27.9-74.055-49.648-112.738-65.279l27.378-40.172z m50.172-75.87c43.906 16.368 83.726 35.518 119.413 57.459l-30.104 45.756c-37.958-26.788-76.823-47.606-116.643-62.487l27.334-40.728z","p-id":"5052",fill:t.fillContent},null,8,Xe)],8,qe))}}),Ze=.008,et=y(5),tt=y(1e3),Fe=y(400);function st(){return{minGridRate:Ze,minGridOptCount:et,minHoldCount:tt,gridCount:Fe,setGridCount:t=>{Fe.value=t}}}const ie=y(!1),A=y([]),d=y(0),p=y(1e5);function ve(){const e=async s=>{const n=Ce.service({lock:!0}),i=await Ie(s);if(n.close(),i&&i.data&&i.data.klineDatas&&i.data.klineDatas.length>0){ie.value=!0,A.value=[],d.value=0,p.value=1e5,A.value.push(`\u521D\u59CB\u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}`);const h=i.data.klineDatas,l=h[0];let a=l.dateStr,C=l.highPrice,g=l.lowPrice,r=l.closePrice,m=Z(r,C,g),b=_((m.firstSalePrice-m.firstBuyPrice)/((m.firstSalePrice+m.firstBuyPrice)/2),2);const{minGridOptCount:w,minGridRate:B,minHoldCount:R,gridCount:E,setGridCount:ge}=st();let H=_(b/w.value);H<B&&(H=B),ge(Math.round(2e3/r/100)*100),E.value===0&&(E.value=100),R.value=E.value*2;let z=l.openPrice,k=z;for(let U=1;U<h.length;U++){const u=h[U];if(a===u.dateStr?(u.highPrice>C&&(C=u.highPrice),u.lowPrice<g&&(g=u.lowPrice),r=u.closePrice):(a=u.dateStr,z=u.openPrice,k=z,m=Z(r,C,g),C=u.highPrice,g=u.lowPrice,b=_((m.firstSalePrice-m.firstBuyPrice)/((m.firstSalePrice+m.firstBuyPrice)/2),2),H=_(b/w.value),H<B&&(H=B)),d.value<R.value&&u.openPrice>m.firstBuyPrice&&u.openPrice<m.firstSalePrice){const P=R.value-d.value,$=_(P*u.openPrice,2);if(k=u.openPrice,p.value<$){A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u5EFA\u4ED3${P}\uFF0C \u5E02\u503C\uFFE5 ${(u.openPrice*d.value+p.value).toFixed(2)}`);continue}d.value=_(d.value+P),p.value=_(p.value-$),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A \u4F4E\u4E8E\u6700\u5C0F\u6301\u4ED3\uFF0C\uFFE5${u.openPrice} \u4E70\u5165 ${P} \u80A1 , \u652F\u51FA \uFFE5${$} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.closePrice*d.value+p.value).toFixed(2)}`)}const K=u.openPrice/k-1;if(Math.abs(K)>H){if(d.value>0&&u.openPrice>m.highSalePrice){const P=d.value,$=_(P*u.openPrice,2);k=u.openPrice,d.value=_(d.value-P),p.value=_(p.value+$),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u6B62\u76C8\u5356\u51FA ${P} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.openPrice*d.value+p.value).toFixed(2)}`)}else if(d.value>0&&u.openPrice<m.lowBuyPrice)if(u.openPrice<m.lowBuyPrice*.98){const P=d.value,$=_(P*u.openPrice,2);k=u.openPrice,d.value=_(d.value-P),p.value=_(p.value+$),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u6B62\u635F\u5356\u51FA ${P} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.openPrice*d.value+p.value).toFixed(2)}`)}else{const P=t(u,E.value*2);if(P.isSuccess)k=P.lastOptPrice;else continue}else if(K>0&&d.value-E.value>=R.value){const P=E.value,$=_(P*u.openPrice,2);k=u.openPrice,d.value=_(d.value-P),p.value=_(p.value+$),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u7F51\u683C\u5356\u51FA ${P} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(u.openPrice*d.value+p.value).toFixed(2)}`)}else if(K<0&&u.openPrice>m.lowBuyPrice){const P=t(u,E.value);if(P.isSuccess)k=P.lastOptPrice;else continue}}}A.value.push(`\u5F53\u524D\u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}\uFF0C  \u5E02\u503C \uFFE5${(h[h.length-1].closePrice*d.value+p.value).toFixed(2)}`)}else ne.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")},t=(s,n)=>{const i=_(n*s.openPrice,2);return p.value<i?(A.value.push(`${s.dateStr} ${s.timeStr}\uFF1A\uFFE5${s.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u8D2D\u4E70\u672C\u6B21\u7F51\u683C\uFF0C \u5E02\u503C\uFFE5 ${(s.openPrice*d.value+p.value).toFixed(2)}`),{isSuccess:!1,lastOptPrice:0}):(d.value=_(d.value+n),p.value=_(p.value-i),A.value.push(`${s.dateStr} ${s.timeStr}\uFF1A\uFFE5${s.openPrice} \u7F51\u683C\u4E70\u5165 ${n} \u80A1 , \u652F\u51FA \uFFE5${i} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(s.openPrice*d.value+p.value).toFixed(2)}`),{isSuccess:!0,lastOptPrice:s.openPrice})};return{isShowBacktestingLog:ie,backtestingLogs:A,holdCount:d,totalMoney:p,runBacktesting:e,closeBacktesting:async()=>{ie.value=!1}}}var J=(e,t)=>{const c=e.__vccOpts||e;for(const[s,n]of t)c[s]=n;return c};const it={class:"flex justify-center items-center p-4"},nt=oe("\u770B\u5B8C\u4E86"),ot=M({setup(e){const{isShowBacktestingLog:t,backtestingLogs:c,closeBacktesting:s}=ve();return(n,i)=>{const h=ce;return $e((F(),x("div",{class:"backtesting-log-bg",onClick:i[1]||(i[1]=q((...l)=>v(s)&&v(s)(...l),["stop"]))},[o("div",{class:"backtesting-log-box",onClick:i[0]||(i[0]=q(()=>{},["stop"]))},[(F(!0),x(V,null,G(v(c),(l,a)=>(F(),x("div",{class:Q(["backtesting-log-item",{"log-buy":l.includes("\u7F51\u683C\u4E70\u5165"),"log-sale":l.includes("\u7F51\u683C\u5356\u51FA"),"log-stop-profit":l.includes("\u6B62\u76C8\u5356\u51FA"),"log-stop-loss":l.includes("\u6B62\u635F\u5356\u51FA")}]),key:a},f(l),3))),128)),o("div",it,[S(h,{type:"danger",icon:v(Ee),onClick:q(v(s),["stop"])},{default:I(()=>[nt]),_:1},8,["icon","onClick"])])])],512)),[[Se,v(t)]])}}});var _e=J(ot,[["__scopeId","data-v-0cea8205"]]);const Y=e=>(we("data-v-e6ad873e"),e=e(),ke(),e),ct={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},ut={class:"absolute top-3 left-3 opacity-50"},at={class:"row p-2"},lt={class:"flex-1 text-center truncate"},rt={class:"row"},dt=Y(()=>o("div",{class:"column"},"\u64CD\u4F5C",-1)),ft={class:"p-1"},pt={class:"p-1"},ht={class:"p-1"},Ft={class:"row bg-red-400"},vt=Y(()=>o("div",{class:"column"},"\u6781\u9650\u83B7\u5229\u4F4D",-1)),_t={class:"column"},gt={class:"row bg-red-300"},Pt=Y(()=>o("div",{class:"column"},"\u7B2C\u4E00\u538B\u529B\u4F4D",-1)),mt={class:"column"},xt={class:"row bg-green-300"},yt=Y(()=>o("div",{class:"column"},"\u7B2C\u4E00\u652F\u6491\u4F4D",-1)),Ct={class:"column"},$t={class:"row bg-green-400"},St=Y(()=>o("div",{class:"column"},"\u6781\u9650\u6284\u5E95\u4F4D",-1)),Et={class:"column"},At={class:"row"},Bt=Y(()=>o("div",{class:"column"},"\u632F\u5E45",-1)),wt={class:"column"},kt=M({setup(e){const{historyRows:t,historyFillRowCount:c,delHistory:s}=L(),{runBacktesting:n}=ve();return(i,h)=>{const l=he,a=pe,C=ce,g=ue;return v(t)&&v(t).length>0?(F(),x("div",ct,[(F(!0),x(V,null,G(v(t),(r,m)=>(F(),x("div",{class:"next-price-box relative",key:m},[o("div",ut,[r.nowPrice.closePrice<=r.nextPrice.firstBuyPrice?(F(),D(l,{key:0})):N("",!0),r.nowPrice.closePrice>=r.nextPrice.firstSalePrice?(F(),D(a,{key:1})):N("",!0)]),o("div",at,[o("span",lt,f(`${r.code} ${r.name}`),1),S(C,{class:"w-min",type:"primary",icon:v(Ae),circle:"",onClick:b=>v(n)(`${r.market}.${r.code}`)},null,8,["icon","onClick"]),S(C,{class:"w-min",type:"danger",icon:v(Be),circle:"",onClick:b=>v(s)(r)},null,8,["icon","onClick"])]),o("div",rt,[dt,o("div",{class:Q(["column close-price-green cursor-pointer",{"close-price-red":r.nowPrice.closePrice>=(r.nextPrice.firstSalePrice+r.nextPrice.firstBuyPrice)/2}])},[S(g,{placement:"top-start",trigger:"hover"},{reference:I(()=>[oe("\u4EF7\u683C("+f(r.nowPrice.closePrice.toFixed(3))+")",1)]),default:I(()=>[o("div",null,[o("p",ft,"\u9AD8\uFF1A"+f(r.nowPrice.highPrice.toFixed(3)),1),o("p",pt,"\u4F4E\uFF1A"+f(r.nowPrice.lowPrice.toFixed(3)),1),o("p",ht,"\u5F00\uFF1A"+f(r.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)],2)]),o("div",Ft,[vt,o("div",_t,f(r.nextPrice.highSalePrice.toFixed(3))+"(+"+f(r.nextPrice.highSaleRate.toFixed(2))+"%)",1)]),o("div",gt,[Pt,o("div",mt,f(r.nextPrice.firstSalePrice.toFixed(3))+"(+"+f(r.nextPrice.firstSaleRate.toFixed(2))+"%)",1)]),o("div",xt,[yt,o("div",Ct,f(r.nextPrice.firstBuyPrice.toFixed(3))+"(-"+f(r.nextPrice.firstBuyRate.toFixed(2))+"%)",1)]),o("div",$t,[St,o("div",Et,f(r.nextPrice.lowBuyPrice.toFixed(3))+"(-"+f(r.nextPrice.lowBuyRate.toFixed(2))+"%)",1)]),o("div",At,[Bt,o("div",wt,f((r.nextPrice.firstSaleRate+r.nextPrice.firstBuyRate).toFixed(2))+"% - "+f((r.nextPrice.highSaleRate+r.nextPrice.lowBuyRate).toFixed(2))+"% ",1)])]))),128)),(F(!0),x(V,null,G(v(c),r=>(F(),x("div",{class:"next-price-box invisible",key:r}))),128)),S(_e)])):N("",!0)}}});var Dt=J(kt,[["__scopeId","data-v-e6ad873e"]]),bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArlJREFUWEfFl1nITVEUx3/fE1GmF7wrGUvIECFCyVhEhpJSHlBIeEHCCzIkb5QhooyliBAZ4sWc8iZjMhXFC/2/9ql11rfPPfue6+uuOnXP2Wv47bWHtW4LTZaWJsenCkAXYCTQMzyaw8fw3Ad+1DOpVIDuwCpgNDC5JMBV4C6wH/haBpMCsAJYDfQtc+bGXwH7gEO17MoAzgGz6gzs1c8Ds4t81AJQ+ro1GDwz/wZoGdtIEcBJYP5/Cp65OQUs8D5jAJuBLUbxLHAAGAdMB4YmgMn+FrASmGP09X2rtfcAQ4A7QCejNAG4ad4F+MU8GuphHhtgPHDD2L4DhgHvs28eIJb6RcCJhFnHVBYCx91ALgsWQGQPI17WAbsrAqwFdjnbN0Af4I++W4BNwHan/BuYFJalCsMY4BrQwRkvAw57AK2V1syKZrCnSmRjsyaSQe0p7a1cBl4A/VywwcDTBgEGAU+cj5dAfw+gne0vC11E3xsE6AroIrKiS04nJ5eBn+74aby9AH4BnT2AToBOgpX2WoJHwHAPcBRY7ABUgnULNiK6DVWarRwDlniAjcAOp/gBGAu8rkig834b6OXsdeR3eoCZgEqnF5XkpRU2ozbfkYJSrBJ/wQPoXZ3MqAiEvus8P0jMxIhwf6iD8nIvdFat330tyO7u58A8YABw2nh4FshVWvXbysBQwpVJ/S6SXG2JleMroe/LICa6TXQRUJCYCHZujeDqF6fY8RiAar6CSC4D0wCVYF3Tj8NG/VQQRMdWOkUyA7hUBqBxbbrWYgFMBZSVVPlboKglPePHavWE6oT3BoPrwNvQ+68vIYkBRIPLT1lXrNSrLdefkEzKbCyAlkMlvs3MU51JrzewHNgAdEyAFoCKzzbgIKCeolDKZmMNM5BcUxnxrKwp8OeUTVMPQIq/unWaDvAPFJGAIVce/UQAAAAASUVORK5CYII=";const Rt={},Mt=o("h1",{class:"flex justify-center items-center flex-wrap"},[o("span",{class:"text-3xl font-bold p-4"},"\u4EF7\u683C\u9884\u6D4B"),o("a",{class:"cursor-pointer",href:"https://github.com/adams549659584/grid-quant",target:"_blank"},[o("img",{src:bt,alt:"https://github.com/adams549659584/grid-quant"})])],-1),Nt=[Mt];function Ht(e,t){return F(),x("header",null,Nt)}var It=J(Rt,[["render",Ht]]);const Vt={},Gt=o("div",{class:"p-4 text-gray-400"},[o("p",{class:"flex justify-center items-center flex-wrap space-x-2"},[o("span",null,"MIT Licensed | Copyright \xA9 2022"),o("a",{href:"https://github.com/adams549659584",target:"_blank"},"adams549659584")])],-1),Ot=[Gt];function Yt(e,t){return F(),x("footer",null,Ot)}var Jt=J(Vt,[["render",Yt]]);const Lt={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},Tt={class:"absolute top-3 left-3 opacity-50"},zt={class:"row p-2 text-center truncate"},Ut={class:"row cursor-pointer"},Kt={class:"p-1"},jt={class:"p-1"},Qt={class:"p-1"},qt={class:"row bg-red-400"},Wt={class:"row bg-red-300"},Xt={class:"row bg-green-300"},Zt={class:"row bg-green-400"},es={class:"row"},ts=M({setup(e){const{historyRows:t,historyFillRowCount:c}=L();return(s,n)=>{const i=he,h=pe,l=ue;return v(t)&&v(t).length>0?(F(),x("div",Lt,[(F(!0),x(V,null,G(v(t),(a,C)=>(F(),x("div",{class:"next-price-box relative",key:C},[o("div",Tt,[a.nowPrice.closePrice<=a.nextPrice.firstBuyPrice?(F(),D(i,{key:0})):N("",!0),a.nowPrice.closePrice>=a.nextPrice.firstSalePrice?(F(),D(h,{key:1})):N("",!0)]),o("div",zt,f(`${a.code} ${a.name}`),1),o("div",Ut,[S(l,{placement:"top-start",trigger:"hover"},{reference:I(()=>[o("span",{class:Q({"close-price-red":a.nowPrice.closePrice>=(a.nextPrice.firstSalePrice+a.nextPrice.firstBuyPrice)/2})}," \u4EF7\u683C("+f(a.nowPrice.closePrice.toFixed(3))+")",3)]),default:I(()=>[o("div",null,[o("p",Kt,"\u9AD8\uFF1A"+f(a.nowPrice.highPrice.toFixed(3)),1),o("p",jt,"\u4F4E\uFF1A"+f(a.nowPrice.lowPrice.toFixed(3)),1),o("p",Qt,"\u5F00\uFF1A"+f(a.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)]),o("div",qt,f(a.nextPrice.highSalePrice.toFixed(3))+"(+"+f(a.nextPrice.highSaleRate.toFixed(2))+"%)",1),o("div",Wt,f(a.nextPrice.firstSalePrice.toFixed(3))+"(+"+f(a.nextPrice.firstSaleRate.toFixed(2))+"%)",1),o("div",Xt,f(a.nextPrice.firstBuyPrice.toFixed(3))+"(-"+f(a.nextPrice.firstBuyRate.toFixed(2))+"%)",1),o("div",Zt,f(a.nextPrice.lowBuyPrice.toFixed(3))+"(-"+f(a.nextPrice.lowBuyRate.toFixed(2))+"%)",1),o("div",es,f((a.nextPrice.firstSaleRate+a.nextPrice.firstBuyRate).toFixed(2))+"% - "+f((a.nextPrice.highSaleRate+a.nextPrice.lowBuyRate).toFixed(2))+"% ",1)]))),128)),(F(!0),x(V,null,G(v(c),a=>(F(),x("div",{class:"next-price-box invisible",key:a}))),128)),S(_e)])):N("",!0)}}});var ss=J(ts,[["__scopeId","data-v-6dcff372"]]);const is={class:"flex justify-center items-center flex-wrap space-x-4"},ns=M({setup(e){const t=y(0),c=y(1e3*10),s=["1.510050","0.159602","1.561990","1.510500","1.512100","1.516970","0.159928","1.512670","1.512660","1.516110","1.512000","1.512480","1.516160","1.515030","1.515790","0.159867","0.159790","1.512760","1.516100","0.159997","0.159755","1.512980","0.159828","1.512170","0.159883","1.513050","1.513330","0.159967","0.159745","1.512200","0.159825","0.159996","0.159992","1.515250","1.516780","1.516150","1.511220","1.511260","0.159905","1.511380","1.513500","0.161834","1.501022","0.159981","1.512890","1.512690","1.513100","1.513300","1.510650"],{isTradeTime:n,isShowNextSwitchChange:i,nextSwitch:h,calcNext:l}=T();let{historyRows:a,getHistory:C}=L();const{simpleSwitch:g}=T(),r=async()=>{m()},m=async()=>{a.value&&a.value.length>0?a.value.forEach(w=>l(`${w.market}.${w.code}`)):s.forEach(w=>l(w)),n&&(t.value=window.setTimeout(()=>{m()},c.value))},b=()=>{a.value=C(),m()};return De(()=>{b()}),be(()=>{t.value&&clearTimeout(t.value)}),(w,B)=>{const R=Re;return F(),x("div",null,[S(It),o("main",null,[o("header",is,[v(i)?(F(),D(R,{key:0,modelValue:v(h),"onUpdate:modelValue":B[0]||(B[0]=E=>j(h)?h.value=E:null),"inline-prompt":"","active-text":"\u9884","inactive-text":"\u56DE",onChange:r},null,8,["modelValue"])):N("",!0),S(Ue),S(R,{modelValue:v(g),"onUpdate:modelValue":B[1]||(B[1]=E=>j(g)?g.value=E:null),"inline-prompt":"","active-text":"\u7B80","inactive-text":"\u8BE6"},null,8,["modelValue"])]),o("main",null,[v(g)?(F(),D(ss,{key:0})):(F(),D(Dt,{key:1}))])]),S(Jt)])}}});Me(ns).mount("#app");
