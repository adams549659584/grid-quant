import{f as $e,r as C,c as Se,E as ne,d as R,o as _,a as y,w as U,v as Ee,u as f,b as c,i as ie,e as K,g as ce,F as T,h as Y,n as j,t as m,p as ae,j as le,k as Ae,l as B,m as Q,q as ke,s as q,x as re,y as de,z as Be,A as J,B as W,C as we,_ as De,D as be,G as Me,H as Re,I as He}from"./vendor.89607a6b.js";const Ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};Ne();function X(e,t){return $e(e,t||{timeout:1e3*5,jsonpCallback:"cb"}).then(n=>n.json())}function Ie(e,t=1,n=10){const s=`https://searchapi.eastmoney.com/api/Info/Search?appid=el1902262&type=14&token=CCSDCZSDCXYMYZYYSYYXSMDDSMDHHDJT&and14=MultiMatch/Name,Code,PinYin/${e}/true&returnfields14=Name,Code,PinYin,MarketType,JYS,MktNum,JYS4App,MktNum4App,ID,Classify,IsExactMatch,SecurityType,SecurityTypeName&pageIndex14=${t}&pageSize14=${n}&isAssociation14=false1642753371132`;return X(s)}function fe(e){return e&&e.data&&e.data.klines&&(e.data.klineDatas=e.data.klines.map(t=>{const n=t.split(","),s=n[0];let o=s,u="";return s.includes(" ")&&([o,u]=s.split(" ")),{dateStr:o,timeStr:u,openPrice:parseFloat(n[1]),closePrice:parseFloat(n[2]),highPrice:parseFloat(n[3]),lowPrice:parseFloat(n[4])}})),e}async function Ge(e){const t=`https://push2his.eastmoney.com/api/qt/stock/kline/get?fields1=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&beg=0&end=20500101&ut=fa5fd1943c7b386f172d6893dbfba10b&rtntype=6&secid=${e}&klt=5&fqt=1
  `,n=await X(t);return fe(n)}async function Oe(e,t){const n=`https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=${e}&ut=fa5fd1943c7b386f172d6893dbfba10b&fields1=f1,f2,f3,f4,f5,f6&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&klt=101&fqt=0&end=20500101&lmt=${t}&_=${Date.now()}`,s=await X(n);return fe(s)}const Z="history_search_results";let H=C();const Te=Se(()=>{if(!H.value||H.value.length===0)return 0;const e=H.value.length,t=window.screen.width;return t>=1536?5-e%5:t>=1280?4-e%4:t>=1024?3-e%3:t>=768?2-e%2:0});function ee(){const e=()=>{const s=localStorage.getItem(Z);return s?JSON.parse(s):[]};return{historyRows:H,historyFillRowCount:Te,getHistory:e,updateHistory:(s,o=!1)=>{let u=e();const a=r=>s.market===r.market&&s.code===r.code&&s.name===r.name;if(o)u=u.filter(r=>!a(r)),u=[s,...u];else{const r=u.findIndex(a);r>-1?u[r]=s:u=[s,...u]}H.value=u,localStorage.setItem(Z,JSON.stringify(u))},delHistory:s=>{let o=e();o=o.filter(u=>!(s.market===u.market&&s.code===u.code&&s.name===u.name)),H.value=o,localStorage.setItem(Z,JSON.stringify(o))}}}function Ye(e,t){const n={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"f+":e.getMilliseconds()};for(const s in n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,n[s].toString().padStart(RegExp.$1.length,"0")));return t}function he(e){return Ye(new Date,e)}function F(e=1,t=3){const n=Math.pow(10,t);return Math.round(e*n)/n}function te(e,t,n){const s=t-n,o=(t+n+e*2)/4,u=F(o+s),a=F(o*2-n),r=F(o*2-t),P=F(o-s);return{highSalePrice:u,highSaleRate:F((u/e-1)*100,2),firstSalePrice:a,firstSaleRate:F((a/e-1)*100,2),firstBuyPrice:r,firstBuyRate:F((e/r-1)*100,2),lowBuyPrice:P,lowBuyRate:F((e/P-1)*100,2)}}const pe=Number(he("Hmm")),ve=pe>=930&&pe<=1500,Je=!ve,Fe=C(!0);function ge(){const{updateHistory:e}=ee();return{isTradeTime:ve,isShowNextSwitchChange:Je,nextSwitch:Fe,calcNext:async(n,s=!1)=>{const o=await Oe(n,2);if(o&&o.data&&o.data.klineDatas&&o.data.klineDatas.length===2){const u=o.data.klineDatas,a=he("yyyy-MM-dd"),r=!Fe.value||u[1].dateStr===a&&new Date().getHours()<15?u[0]:u[1],P=te(r.closePrice,r.highPrice,r.lowPrice);e({market:o.data.market,code:o.data.code,name:o.data.name,nowPrice:u[1],nextPrice:P},s)}else ne.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")}}}const se=C(!1),ue=C(""),S=C(),k=C(0),_e=C(!1),ye=C("");function Le(){const e=a=>{a?se.value=a:setTimeout(()=>{se.value=a},300)},t=async()=>{if(k.value=0,ue.value){_e.value=!0;const a=await Ie(ue.value);S.value=a.Data||[],_e.value=!1}else S.value=[]},n=a=>(S.value&&S.value.length>0&&(k.value=k.value>0?k.value-1:S.value.length-1),!1),s=a=>(S.value&&S.value.length>0&&(k.value=k.value<S.value.length-1?k.value+1:0),!1),o=()=>{if(S.value&&S.value.length>k.value){const a=S.value[k.value];u(`${a.MktNum}.${a.Code}`)}},u=async a=>{ye.value=a;const{calcNext:r}=ge();return r(a,!0)};return{isShowSearchResult:se,searchKeyword:ue,searchResultRows:S,searchSelectedIndex:k,secid:ye,changeSearchResultShow:e,query:t,searchHotkeyUp:n,searchHotkeyDown:s,searchHotkeyEnter:o,selectChange:u}}var G=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const me=e=>(ae("data-v-97511fec"),e=e(),le(),e),Ve={class:"absolute"},ze={key:0,class:"search-hotkey"},Ue=["onClick"],Ke={key:1,class:"search-hotkey"},je=me(()=>c("li",{class:"search-hotkey-items"},"\u6682\u65E0\u76F8\u5173\u80A1\u7968/\u57FA\u91D1",-1)),Qe=[je],qe={key:2,class:"search-hotkey"},We=me(()=>c("li",{class:"search-hotkey-items"},"\u8F93\u5165\u80A1\u7968/\u57FA\u91D1 \u7F16\u7801/\u7B80\u62FC/\u5168\u62FC/\u4E2D\u6587",-1)),Xe=[We],Ze=R({setup(e){const{isShowSearchResult:t,searchKeyword:n,searchResultRows:s,searchSelectedIndex:o,changeSearchResultShow:u,query:a,searchHotkeyUp:r,searchHotkeyDown:P,searchHotkeyEnter:x,selectChange:E}=Le();return(l,d)=>(_(),y("div",null,[U(c("input",{class:"input-search",type:"text",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968/\u57FA\u91D1\u4EE3\u7801","onUpdate:modelValue":d[0]||(d[0]=v=>ie(n)?n.value=v:null),onFocus:d[1]||(d[1]=v=>f(u)(!0)),onBlur:d[2]||(d[2]=v=>f(u)(!1)),onInput:d[3]||(d[3]=(...v)=>f(a)&&f(a)(...v)),onKeydown:[d[4]||(d[4]=K((...v)=>f(r)&&f(r)(...v),["up"])),d[5]||(d[5]=K((...v)=>f(P)&&f(P)(...v),["down"])),d[6]||(d[6]=K((...v)=>f(x)&&f(x)(...v),["enter"]))]},null,544),[[Ee,f(n)]]),U(c("div",Ve,[f(s)&&f(s).length>0?(_(),y("ul",ze,[(_(!0),y(T,null,Y(f(s),(v,b)=>(_(),y("li",{class:j(["search-hotkey-items bg-",{"bg-gray-100":b===f(o)}]),key:`${v.MktNum}.${v.Code}_${v.Name}`,onClick:I=>f(E)(`${v.MktNum}.${v.Code}`)},m(`${v.Code} ${v.Name} ${v.SecurityTypeName}`),11,Ue))),128))])):f(n).length>0?(_(),y("ul",Ke,Qe)):(_(),y("ul",qe,Xe))],512),[[ce,f(t)]])]))}});var et=G(Ze,[["__scopeId","data-v-97511fec"]]);const tt=["width","height"],st=["fill"],ut=["fill"],ot=R({props:{width:{default:64},height:{default:64},fillBorder:{default:"#1afa29"},fillContent:{default:"#1afa29"}},setup(e){const t=e;return(n,s)=>(_(),y("svg",{t:"1644806599031",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6644",width:t.width,height:t.height},[c("path",{d:"M511.5 0.681C229.003 0.681 0 229.684 0 512.182c0 282.496 229.004 511.5 511.5 511.5 282.498 0 511.5-229.004 511.5-511.5C1023 229.684 793.998 0.681 511.5 0.681z m0 953.251c-243.943 0-441.75-197.807-441.75-441.75 0-243.989 197.807-441.751 441.75-441.751 243.99 0 441.75 197.762 441.75 441.751 0 243.943-197.76 441.75-441.75 441.75z","p-id":"6645",fill:t.fillBorder},null,8,st),c("path",{d:"M330.154 498.218c39.802 13.01 77.743 29.403 113.821 49.111l-24.521 37.372H511.5c4.836-15.984 7.992-31.424 9.49-46.318v-90.957h56.355v90.957c-1.113 16.394-3.338 31.833-6.676 46.318h176.328v55.265H548.895l-5.584 8.9c69.182 20.116 133.164 43.911 191.971 71.43l-32.922 50.769c-62.508-34.216-126.877-61.734-193.084-82.556-40.188 34.58-106.033 61.372-197.534 80.331L280.5 719.184c92.251-18.232 154.576-40.732 186.931-67.502l11.716-11.716h-203.12v-55.265h127.217c-32.354-18.981-65.845-34.217-100.425-45.751l27.335-40.732z m-47.975-117.182H483.05v-37.372H323.457v-52.449H483.05v-37.963h56.922v37.963h156.234v52.449H539.973v37.372h195.309v36.283c-8.219 37.917-19.367 75.336-33.512 112.163l-54.674-15.644c10.807-21.57 20.457-48.157 29.016-79.786H282.179v-53.016z m94.862 59.148c40.166 10.784 78.65 24.93 115.479 42.413l-28.995 44.07c-37.576-20.071-75.54-35.511-113.82-46.318l27.336-40.165z","p-id":"6646",fill:t.fillContent},null,8,ut)],8,tt))}}),nt=["width","height"],it=["fill"],ct=["fill"],at=R({props:{width:{default:64},height:{default:64},fillBorder:{default:"#d81e06"},fillContent:{default:"#d81e06"}},setup(e){const t=e;return(n,s)=>(_(),y("svg",{t:"1644804245112",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5050",width:t.width,height:t.height},[c("path",{d:"M511.66 0.625C229.2 0.625 0.227 229.598 0.227 512.057S229.2 1023.488 511.66 1023.488c282.459 0 511.432-228.973 511.432-511.432S794.119 0.625 511.66 0.625z m0 953.123c-243.912 0-441.692-197.758-441.692-441.691 0-243.934 197.78-441.692 441.692-441.692 243.956 0 441.692 197.758 441.692 441.692 0 243.933-197.737 441.691-441.692 441.691z","p-id":"5051",fill:t.fillBorder},null,8,it),c("path",{d:"M510.57 344.391h57.436v117.721c-1.09 24.189-4.268 47.618-9.49 70.297h199.188v56.913H539.582l-8.943 17.855c76.596 31.988 148.971 67.505 217.031 106.564l-40.727 44.632c-65.475-40.172-134.26-76.245-206.454-108.243-0.727 0.749-1.089 1.316-1.089 1.68-41.273 43.895-107.518 77.551-198.644 100.979l-32.918-51.33c92.987-23.429 155.872-53.18 188.609-89.265a384.943 384.943 0 0 0 16.163-22.873H265.615v-56.913h232.65c6.311-20.818 10.443-44.258 12.305-70.297v-117.72z m-225.432-78.663h433.518v36.267c-8.58 33.474-19.16 66.018-31.781 97.63l-54.123-15.619c10.762-20.092 19.342-41.659 25.654-64.724H285.138v-53.554z m33.508 145.61c43.861 17.118 82.363 37.016 115.463 59.707l-30.103 45.744c-36.46-27.9-74.055-49.648-112.738-65.279l27.378-40.172z m50.172-75.87c43.906 16.368 83.726 35.518 119.413 57.459l-30.104 45.756c-37.958-26.788-76.823-47.606-116.643-62.487l27.334-40.728z","p-id":"5052",fill:t.fillContent},null,8,ct)],8,nt))}}),lt=.008,rt=C(5),dt=C(1e3),Pe=C(400);function ft(){return{minGridRate:lt,minGridOptCount:rt,minHoldCount:dt,gridCount:Pe,setGridCount:t=>{Pe.value=t}}}const oe=C(!1),A=C([]),h=C(0),p=C(1e5);function Ce(){const e=async s=>{const o=Ae.service({lock:!0}),u=await Ge(s);if(o.close(),u&&u.data&&u.data.klineDatas&&u.data.klineDatas.length>0){oe.value=!0,A.value=[],h.value=0,p.value=1e5,A.value.push(`\u521D\u59CB\u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}`);const a=u.data.klineDatas,r=a[0];let P=r.dateStr,x=r.highPrice,E=r.lowPrice,l=r.closePrice,d=te(l,x,E),v=F((d.firstSalePrice-d.firstBuyPrice)/((d.firstSalePrice+d.firstBuyPrice)/2),2);const{minGridOptCount:b,minGridRate:I,minHoldCount:O,gridCount:D,setGridCount:xe}=ft();let M=F(v/b.value);M<I&&(M=I),xe(Math.round(2e3/l/100)*100),D.value===0&&(D.value=100),O.value=D.value*2;let L=r.openPrice,w=L;for(let V=1;V<a.length;V++){const i=a[V];if(P===i.dateStr?(i.highPrice>x&&(x=i.highPrice),i.lowPrice<E&&(E=i.lowPrice),l=i.closePrice):(P=i.dateStr,L=i.openPrice,w=L,d=te(l,x,E),x=i.highPrice,E=i.lowPrice,v=F((d.firstSalePrice-d.firstBuyPrice)/((d.firstSalePrice+d.firstBuyPrice)/2),2),M=F(v/b.value),M<I&&(M=I)),h.value<O.value&&i.openPrice>d.firstBuyPrice&&i.openPrice<d.firstSalePrice){const g=O.value-h.value,$=F(g*i.openPrice,2);if(w=i.openPrice,p.value<$){A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u5EFA\u4ED3${g}\uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*h.value+p.value).toFixed(2)}`);continue}h.value=F(h.value+g),p.value=F(p.value-$),A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A \u4F4E\u4E8E\u6700\u5C0F\u6301\u4ED3\uFF0C\uFFE5${i.openPrice} \u4E70\u5165 ${g} \u80A1 , \u652F\u51FA \uFFE5${$} \uFF0C \u6301\u4ED3 ${h.value} \uFF0C \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(i.closePrice*h.value+p.value).toFixed(2)}`)}const z=i.openPrice/w-1;if(Math.abs(z)>M){if(h.value>0&&i.openPrice>d.highSalePrice){const g=h.value,$=F(g*i.openPrice,2);w=i.openPrice,h.value=F(h.value-g),p.value=F(p.value+$),A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u6B62\u76C8\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(i.openPrice*h.value+p.value).toFixed(2)}`)}else if(h.value>0&&i.openPrice<d.lowBuyPrice)if(i.openPrice<d.lowBuyPrice*.98){const g=h.value,$=F(g*i.openPrice,2);w=i.openPrice,h.value=F(h.value-g),p.value=F(p.value+$),A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u6B62\u635F\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(i.openPrice*h.value+p.value).toFixed(2)}`)}else{const g=t(i,D.value*2);if(g.isSuccess)w=g.lastOptPrice;else continue}else if(z>0&&h.value-D.value>=O.value){const g=D.value,$=F(g*i.openPrice,2);w=i.openPrice,h.value=F(h.value-g),p.value=F(p.value+$),A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u7F51\u683C\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${$} \uFF0C \u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*h.value+p.value).toFixed(2)}`)}else if(z<0&&i.openPrice>d.lowBuyPrice){const g=t(i,D.value);if(g.isSuccess)w=g.lastOptPrice;else continue}}}A.value.push(`\u5F53\u524D\u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}\uFF0C  \u5E02\u503C \uFFE5${(a[a.length-1].closePrice*h.value+p.value).toFixed(2)}`)}else ne.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")},t=(s,o)=>{const u=F(o*s.openPrice,2);return p.value<u?(A.value.push(`${s.dateStr} ${s.timeStr}\uFF1A\uFFE5${s.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u8D2D\u4E70\u672C\u6B21\u7F51\u683C\uFF0C \u5E02\u503C\uFFE5 ${(s.openPrice*h.value+p.value).toFixed(2)}`),{isSuccess:!1,lastOptPrice:0}):(h.value=F(h.value+o),p.value=F(p.value-u),A.value.push(`${s.dateStr} ${s.timeStr}\uFF1A\uFFE5${s.openPrice} \u7F51\u683C\u4E70\u5165 ${o} \u80A1 , \u652F\u51FA \uFFE5${u} \uFF0C \u6301\u4ED3 ${h.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(s.openPrice*h.value+p.value).toFixed(2)}`),{isSuccess:!0,lastOptPrice:s.openPrice})};return{isShowBacktestingLog:oe,backtestingLogs:A,holdCount:h,totalMoney:p,runBacktesting:e,closeBacktesting:async()=>{oe.value=!1}}}const ht={class:"flex justify-center items-center p-4"},pt=de("\u770B\u5B8C\u4E86"),vt=R({setup(e){const{isShowBacktestingLog:t,backtestingLogs:n,closeBacktesting:s}=Ce();return(o,u)=>{const a=re;return U((_(),y("div",{class:"backtesting-log-bg",onClick:u[1]||(u[1]=q((...r)=>f(s)&&f(s)(...r),["stop"]))},[c("div",{class:"backtesting-log-box",onClick:u[0]||(u[0]=q(()=>{},["stop"]))},[(_(!0),y(T,null,Y(f(n),(r,P)=>(_(),y("div",{class:j(["backtesting-log-item",{"log-buy":r.includes("\u7F51\u683C\u4E70\u5165"),"log-sale":r.includes("\u7F51\u683C\u5356\u51FA"),"log-stop-profit":r.includes("\u6B62\u76C8\u5356\u51FA"),"log-stop-loss":r.includes("\u6B62\u635F\u5356\u51FA")}]),key:P},m(r),3))),128)),c("div",ht,[B(a,{type:"danger",icon:f(ke),onClick:q(f(s),["stop"])},{default:Q(()=>[pt]),_:1},8,["icon","onClick"])])])],512)),[[ce,f(t)]])}}});var Ft=G(vt,[["__scopeId","data-v-0cea8205"]]);const N=e=>(ae("data-v-dd9e1a0e"),e=e(),le(),e),gt={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},_t={class:"absolute top-3 left-3 opacity-50"},yt={class:"row p-2"},mt={class:"flex-1 text-center truncate"},Pt={class:"row"},Ct=N(()=>c("div",{class:"column"},"\u64CD\u4F5C",-1)),xt={class:"p-1"},$t={class:"p-1"},St={class:"p-1"},Et={class:"row bg-red-400"},At=N(()=>c("div",{class:"column"},"\u6781\u9650\u83B7\u5229\u4F4D",-1)),kt={class:"column"},Bt={class:"row bg-red-300"},wt=N(()=>c("div",{class:"column"},"\u7B2C\u4E00\u538B\u529B\u4F4D",-1)),Dt={class:"column"},bt={class:"row bg-green-300"},Mt=N(()=>c("div",{class:"column"},"\u7B2C\u4E00\u652F\u6491\u4F4D",-1)),Rt={class:"column"},Ht={class:"row bg-green-400"},Nt=N(()=>c("div",{class:"column"},"\u6781\u9650\u6284\u5E95\u4F4D",-1)),It={class:"column"},Gt={class:"row"},Ot=N(()=>c("div",{class:"column"},"\u632F\u5E45",-1)),Tt={class:"column"},Yt=R({setup(e){const{historyRows:t,historyFillRowCount:n,delHistory:s}=ee(),{runBacktesting:o}=Ce();return(u,a)=>{const r=at,P=ot,x=re,E=Be;return f(t)&&f(t).length>0?(_(),y("div",gt,[(_(!0),y(T,null,Y(f(t),(l,d)=>(_(),y("div",{class:"next-price-box relative",key:d},[c("div",_t,[l.nowPrice.closePrice<=l.nextPrice.firstBuyPrice?(_(),W(r,{key:0})):J("",!0),l.nowPrice.closePrice>=l.nextPrice.firstSalePrice?(_(),W(P,{key:1})):J("",!0)]),c("div",yt,[c("span",mt,m(`${l.code} ${l.name}`),1),B(x,{class:"w-min",type:"primary",icon:f(we),circle:"",onClick:v=>f(o)(`${l.market}.${l.code}`)},null,8,["icon","onClick"]),B(x,{class:"w-min",type:"danger",icon:f(De),circle:"",onClick:v=>f(s)(l)},null,8,["icon","onClick"])]),c("div",Pt,[Ct,c("div",{class:j(["column close-price-green cursor-pointer",{"close-price-red":l.nowPrice.closePrice>=(l.nextPrice.firstSalePrice+l.nextPrice.firstBuyPrice)/2}])},[B(E,{placement:"top-start",trigger:"hover"},{reference:Q(()=>[de("\u4EF7\u683C("+m(l.nowPrice.closePrice.toFixed(3))+")",1)]),default:Q(()=>[c("div",null,[c("p",xt,"\u9AD8\uFF1A"+m(l.nowPrice.highPrice.toFixed(3)),1),c("p",$t,"\u4F4E\uFF1A"+m(l.nowPrice.lowPrice.toFixed(3)),1),c("p",St,"\u5F00\uFF1A"+m(l.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)],2)]),c("div",Et,[At,c("div",kt,m(l.nextPrice.highSalePrice.toFixed(3))+"(+"+m(l.nextPrice.highSaleRate.toFixed(2))+"%)",1)]),c("div",Bt,[wt,c("div",Dt,m(l.nextPrice.firstSalePrice.toFixed(3))+"(+"+m(l.nextPrice.firstSaleRate.toFixed(2))+"%)",1)]),c("div",bt,[Mt,c("div",Rt,m(l.nextPrice.firstBuyPrice.toFixed(3))+"(-"+m(l.nextPrice.firstBuyRate.toFixed(2))+"%)",1)]),c("div",Ht,[Nt,c("div",It,m(l.nextPrice.lowBuyPrice.toFixed(3))+"(-"+m(l.nextPrice.lowBuyRate.toFixed(2))+"%)",1)]),c("div",Gt,[Ot,c("div",Tt,m((l.nextPrice.firstSaleRate+l.nextPrice.firstBuyRate).toFixed(2))+"% - "+m((l.nextPrice.highSaleRate+l.nextPrice.lowBuyRate).toFixed(2))+"%",1)])]))),128)),(_(!0),y(T,null,Y(f(n),l=>(_(),y("div",{class:"next-price-box invisible",key:l}))),128)),B(Ft)])):J("",!0)}}});var Jt=G(Yt,[["__scopeId","data-v-dd9e1a0e"]]),Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArlJREFUWEfFl1nITVEUx3/fE1GmF7wrGUvIECFCyVhEhpJSHlBIeEHCCzIkb5QhooyliBAZ4sWc8iZjMhXFC/2/9ql11rfPPfue6+uuOnXP2Wv47bWHtW4LTZaWJsenCkAXYCTQMzyaw8fw3Ad+1DOpVIDuwCpgNDC5JMBV4C6wH/haBpMCsAJYDfQtc+bGXwH7gEO17MoAzgGz6gzs1c8Ds4t81AJQ+ro1GDwz/wZoGdtIEcBJYP5/Cp65OQUs8D5jAJuBLUbxLHAAGAdMB4YmgMn+FrASmGP09X2rtfcAQ4A7QCejNAG4ad4F+MU8GuphHhtgPHDD2L4DhgHvs28eIJb6RcCJhFnHVBYCx91ALgsWQGQPI17WAbsrAqwFdjnbN0Af4I++W4BNwHan/BuYFJalCsMY4BrQwRkvAw57AK2V1syKZrCnSmRjsyaSQe0p7a1cBl4A/VywwcDTBgEGAU+cj5dAfw+gne0vC11E3xsE6AroIrKiS04nJ5eBn+74aby9AH4BnT2AToBOgpX2WoJHwHAPcBRY7ABUgnULNiK6DVWarRwDlniAjcAOp/gBGAu8rkig834b6OXsdeR3eoCZgEqnF5XkpRU2ozbfkYJSrBJ/wQPoXZ3MqAiEvus8P0jMxIhwf6iD8nIvdFat330tyO7u58A8YABw2nh4FshVWvXbysBQwpVJ/S6SXG2JleMroe/LICa6TXQRUJCYCHZujeDqF6fY8RiAar6CSC4D0wCVYF3Tj8NG/VQQRMdWOkUyA7hUBqBxbbrWYgFMBZSVVPlboKglPePHavWE6oT3BoPrwNvQ+68vIYkBRIPLT1lXrNSrLdefkEzKbCyAlkMlvs3MU51JrzewHNgAdEyAFoCKzzbgIKCeolDKZmMNM5BcUxnxrKwp8OeUTVMPQIq/unWaDvAPFJGAIVce/UQAAAAASUVORK5CYII=";const Vt={},zt=c("h1",{class:"flex justify-center items-center flex-wrap"},[c("span",{class:"text-3xl font-bold p-4"},"\u4EF7\u683C\u9884\u6D4B"),c("a",{class:"cursor-pointer",href:"https://github.com/adams549659584/grid-quant",target:"_blank"},[c("img",{src:Lt,alt:"https://github.com/adams549659584/grid-quant"})])],-1),Ut=[zt];function Kt(e,t){return _(),y("header",null,Ut)}var jt=G(Vt,[["render",Kt]]);const Qt={},qt=c("div",{class:"p-4 text-gray-400"},[c("p",{class:"flex justify-center items-center flex-wrap space-x-2"},[c("span",null,"MIT Licensed | Copyright \xA9 2022"),c("a",{href:"https://github.com/adams549659584",target:"_blank"},"adams549659584")])],-1),Wt=[qt];function Xt(e,t){return _(),y("footer",null,Wt)}var Zt=G(Qt,[["render",Xt]]);const es={class:"flex justify-center items-center flex-wrap space-x-4"},ts=R({setup(e){const t=C(0),{isTradeTime:n,isShowNextSwitchChange:s,nextSwitch:o,calcNext:u}=ge();let{historyRows:a,getHistory:r}=ee();const P=async()=>{x()},x=async()=>{a.value&&a.value.length>0?a.value.forEach(l=>u(`${l.market}.${l.code}`)):["1.510050","0.159602","1.561990","1.510500","1.512100","1.516970","0.159928","1.512670","1.512660","1.516110","1.512000","1.512480","1.516160","1.515030","1.515790","0.159867","0.159790","1.512760","1.516100","0.159997","0.159755","1.512980","0.159828","1.512170","0.159883","1.513050","1.513330","0.159967","0.159745","1.512200","0.159825","0.159996","0.159992","1.515250","1.516780","1.516150","1.511220","1.511260","0.159905","1.511380","1.513500","0.161834","1.501022","0.159981","1.512890","1.512690","1.513100","1.513300","1.510650"].forEach(l=>u(l)),n&&(t.value=window.setTimeout(()=>{x()},1e3*30))},E=()=>{a.value=r(),x()};return be(()=>{E()}),Me(()=>{t.value&&clearTimeout(t.value)}),(l,d)=>{const v=Re;return _(),y("div",null,[B(jt),c("main",null,[c("header",es,[f(s)?(_(),W(v,{key:0,modelValue:f(o),"onUpdate:modelValue":d[0]||(d[0]=b=>ie(o)?o.value=b:null),"inline-prompt":"","active-text":"\u9884","inactive-text":"\u56DE",onChange:P},null,8,["modelValue"])):J("",!0),B(et)]),c("main",null,[B(Jt)])]),B(Zt)])}}});He(ts).mount("#app");
