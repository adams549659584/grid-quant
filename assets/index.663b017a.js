var Se=Object.defineProperty,$e=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ce=(t,e,s)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,oe=(t,e)=>{for(var s in e||(e={}))Ae.call(e,s)&&ce(t,s,e[s]);if(ne)for(var s of ne(e))Be.call(e,s)&&ce(t,s,e[s]);return t},ue=(t,e)=>$e(t,Ee(e));import{f as we,r as x,c as ke,E as ae,d as R,a as De,o as v,b as m,e as $,u as _,i as Q,s as be,g as o,h as Re,w as Me,v as Ne,F as G,j as T,n as q,t as f,k as O,l as He,m as W,p as le,q as re,x as de,y as M,z as N,A as Ie,_ as Ve,B as Ge,C as Te,D as Oe,G as Ye,H as Je,I as Le}from"./vendor.47b00881.js";const ze=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}};ze();function X(t,e){return we(t,e||{timeout:1e3*5,jsonpCallback:"cb"}).then(s=>s.json())}function Ue(t,e=1,s=10){const i=`https://searchapi.eastmoney.com/api/Info/Search?appid=el1902262&type=14&token=CCSDCZSDCXYMYZYYSYYXSMDDSMDHHDJT&and14=MultiMatch/Name,Code,PinYin/${t}/true&returnfields14=Name,Code,PinYin,MarketType,JYS,MktNum,JYS4App,MktNum4App,ID,Classify,IsExactMatch,SecurityType,SecurityTypeName&pageIndex14=${e}&pageSize14=${s}&isAssociation14=false1642753371132`;return X(i)}function fe(t){return t&&t.data&&t.data.klines&&(t.data.klineDatas=t.data.klines.map(e=>{const s=e.split(","),i=s[0];let n=i,c="";return i.includes(" ")&&([n,c]=i.split(" ")),{dateStr:n,timeStr:c,openPrice:parseFloat(s[1]),closePrice:parseFloat(s[2]),highPrice:parseFloat(s[3]),lowPrice:parseFloat(s[4])}})),t}async function Ke(t){const e=`https://push2his.eastmoney.com/api/qt/stock/kline/get?fields1=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&beg=0&end=20500101&ut=fa5fd1943c7b386f172d6893dbfba10b&rtntype=6&secid=${t}&klt=5&fqt=1
  `,s=await X(e);return fe(s)}async function je(t,e){const s=`https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=${t}&ut=fa5fd1943c7b386f172d6893dbfba10b&fields1=f1,f2,f3,f4,f5,f6&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&klt=101&fqt=0&end=20500101&lmt=${e}&_=${Date.now()}`,i=await X(s);return fe(i)}const Z="history_search_results";let I=x();const Qe=ke(()=>{if(!I.value||I.value.length===0)return 0;const t=I.value.length,e=window.screen.width,{simpleSwitch:s}=L();return s?e>=1536?8-t%8:e>=1280?7-t%7:e>=1024?6-t%6:e>=768?4-t%4:2-t%2:e>=1536?5-t%5:e>=1280?4-t%4:e>=1024?3-t%3:e>=768?2-t%2:0});function J(){const t=()=>{const i=localStorage.getItem(Z);return i?JSON.parse(i):[]};return{historyRows:I,historyFillRowCount:Qe,getHistory:t,updateHistory:(i,n=!1)=>{let c=t();const h=l=>i.market===l.market&&i.code===l.code&&i.name===l.name;if(n)c=c.filter(l=>!h(l)),c=[i,...c];else{const l=c.findIndex(h);l>-1?c[l]=i:c=[i,...c]}I.value=c,localStorage.setItem(Z,JSON.stringify(c))},delHistory:i=>{let n=t();n=n.filter(c=>!(i.market===c.market&&i.code===c.code&&i.name===c.name)),I.value=n,localStorage.setItem(Z,JSON.stringify(n))}}}function qe(t,e){const s={"y+":t.getFullYear(),"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"f+":t.getMilliseconds()};for(const i in s)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,s[i].toString().padStart(RegExp.$1.length,"0")));return e}function pe(t){return qe(new Date,t)}function F(t=1,e=3){const s=Math.pow(10,e);return Math.round(t*s)/s}function ee(t,e,s){const i=e-s,n=(e+s+t*2)/4,c=F(n+i),h=F(n*2-s),l=F(n*2-e),a=F(n-i);return{highSalePrice:c,highSaleRate:F((c/t-1)*100,2),firstSalePrice:h,firstSaleRate:F((h/t-1)*100,2),firstBuyPrice:l,firstBuyRate:F((t/l-1)*100,2),lowBuyPrice:a,lowBuyRate:F((t/a-1)*100,2)}}const he=Number(pe("Hmm")),Fe=he>=930&&he<=1500,We=!Fe,ve=x(!0),Xe=x(!1);function L(){const{updateHistory:t}=J();return{isTradeTime:Fe,isShowNextSwitchChange:We,nextSwitch:ve,simpleSwitch:Xe,calcNext:async(s,i=!1)=>{const n=await je(s,2);if(n&&n.data&&n.data.klineDatas&&n.data.klineDatas.length===2){const c=n.data.klineDatas,h=pe("yyyy-MM-dd"),l=!ve.value||c[1].dateStr===h&&new Date().getHours()<15?c[0]:c[1],a=ee(l.closePrice,l.highPrice,l.lowPrice);t({market:n.data.market,code:n.data.code,name:n.data.name,nowPrice:c[1],nextPrice:a},i)}else ae.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")}}}const _e=x(""),z=x(),te=x(!1),se=x("");function Ze(){return{searchKeyword:_e,searchResultRows:z,secid:se,loading:te,query:async(s,i)=>{if(s){te.value=!0;const n=await Ue(s);z.value=n.Data||[],te.value=!1}else z.value=[];i(z.value.map(n=>ue(oe({},n),{Text:`${n.Code} ${n.Name} ${n.SecurityTypeName}`})))},selectChange:async s=>{if(!s)return;_e.value="",se.value=`${s.MktNum}.${s.Code}`;const{calcNext:i}=L();return i(se.value,!0)}}}const et=R({setup(t){const{searchKeyword:e,query:s,selectChange:i}=Ze();return(n,c)=>{const h=De;return v(),m("div",null,[$(h,{modelValue:_(e),"onUpdate:modelValue":c[0]||(c[0]=l=>Q(e)?e.value=l:null),"fetch-suggestions":_(s),"value-key":"Text","highlight-first-item":"",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968/\u57FA\u91D1\u4EE3\u7801",maxlength:"10","prefix-icon":_(be),clearable:"",onSelect:_(i)},null,8,["modelValue","fetch-suggestions","prefix-icon","onSelect"])])}}}),tt=["width","height"],st=["fill"],it=["fill"],ge=R({props:{width:{default:64},height:{default:64},fillBorder:{default:"#1afa29"},fillContent:{default:"#1afa29"}},setup(t){const e=t;return(s,i)=>(v(),m("svg",{t:"1644806599031",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6644",width:e.width,height:e.height},[o("path",{d:"M511.5 0.681C229.003 0.681 0 229.684 0 512.182c0 282.496 229.004 511.5 511.5 511.5 282.498 0 511.5-229.004 511.5-511.5C1023 229.684 793.998 0.681 511.5 0.681z m0 953.251c-243.943 0-441.75-197.807-441.75-441.75 0-243.989 197.807-441.751 441.75-441.751 243.99 0 441.75 197.762 441.75 441.751 0 243.943-197.76 441.75-441.75 441.75z","p-id":"6645",fill:e.fillBorder},null,8,st),o("path",{d:"M330.154 498.218c39.802 13.01 77.743 29.403 113.821 49.111l-24.521 37.372H511.5c4.836-15.984 7.992-31.424 9.49-46.318v-90.957h56.355v90.957c-1.113 16.394-3.338 31.833-6.676 46.318h176.328v55.265H548.895l-5.584 8.9c69.182 20.116 133.164 43.911 191.971 71.43l-32.922 50.769c-62.508-34.216-126.877-61.734-193.084-82.556-40.188 34.58-106.033 61.372-197.534 80.331L280.5 719.184c92.251-18.232 154.576-40.732 186.931-67.502l11.716-11.716h-203.12v-55.265h127.217c-32.354-18.981-65.845-34.217-100.425-45.751l27.335-40.732z m-47.975-117.182H483.05v-37.372H323.457v-52.449H483.05v-37.963h56.922v37.963h156.234v52.449H539.973v37.372h195.309v36.283c-8.219 37.917-19.367 75.336-33.512 112.163l-54.674-15.644c10.807-21.57 20.457-48.157 29.016-79.786H282.179v-53.016z m94.862 59.148c40.166 10.784 78.65 24.93 115.479 42.413l-28.995 44.07c-37.576-20.071-75.54-35.511-113.82-46.318l27.336-40.165z","p-id":"6646",fill:e.fillContent},null,8,it)],8,tt))}}),nt=["width","height"],ct=["fill"],ot=["fill"],Pe=R({props:{width:{default:64},height:{default:64},fillBorder:{default:"#d81e06"},fillContent:{default:"#d81e06"}},setup(t){const e=t;return(s,i)=>(v(),m("svg",{t:"1644804245112",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5050",width:e.width,height:e.height},[o("path",{d:"M511.66 0.625C229.2 0.625 0.227 229.598 0.227 512.057S229.2 1023.488 511.66 1023.488c282.459 0 511.432-228.973 511.432-511.432S794.119 0.625 511.66 0.625z m0 953.123c-243.912 0-441.692-197.758-441.692-441.691 0-243.934 197.78-441.692 441.692-441.692 243.956 0 441.692 197.758 441.692 441.692 0 243.933-197.737 441.691-441.692 441.691z","p-id":"5051",fill:e.fillBorder},null,8,ct),o("path",{d:"M510.57 344.391h57.436v117.721c-1.09 24.189-4.268 47.618-9.49 70.297h199.188v56.913H539.582l-8.943 17.855c76.596 31.988 148.971 67.505 217.031 106.564l-40.727 44.632c-65.475-40.172-134.26-76.245-206.454-108.243-0.727 0.749-1.089 1.316-1.089 1.68-41.273 43.895-107.518 77.551-198.644 100.979l-32.918-51.33c92.987-23.429 155.872-53.18 188.609-89.265a384.943 384.943 0 0 0 16.163-22.873H265.615v-56.913h232.65c6.311-20.818 10.443-44.258 12.305-70.297v-117.72z m-225.432-78.663h433.518v36.267c-8.58 33.474-19.16 66.018-31.781 97.63l-54.123-15.619c10.762-20.092 19.342-41.659 25.654-64.724H285.138v-53.554z m33.508 145.61c43.861 17.118 82.363 37.016 115.463 59.707l-30.103 45.744c-36.46-27.9-74.055-49.648-112.738-65.279l27.378-40.172z m50.172-75.87c43.906 16.368 83.726 35.518 119.413 57.459l-30.104 45.756c-37.958-26.788-76.823-47.606-116.643-62.487l27.334-40.728z","p-id":"5052",fill:e.fillContent},null,8,ot)],8,nt))}}),ut=.008,at=x(5),lt=x(1e3),me=x(400);function rt(){return{minGridRate:ut,minGridOptCount:at,minHoldCount:lt,gridCount:me,setGridCount:e=>{me.value=e}}}const ie=x(!1),A=x([]),d=x(0),p=x(1e5);function xe(){const t=async i=>{const n=Re.service({lock:!0}),c=await Ke(i);if(n.close(),c&&c.data&&c.data.klineDatas&&c.data.klineDatas.length>0){ie.value=!0,A.value=[],d.value=0,p.value=1e5,A.value.push(`\u521D\u59CB\u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}`);const h=c.data.klineDatas,l=h[0];let a=l.dateStr,y=l.highPrice,C=l.lowPrice,r=l.closePrice,P=ee(r,y,C),D=F((P.firstSalePrice-P.firstBuyPrice)/((P.firstSalePrice+P.firstBuyPrice)/2),2);const{minGridOptCount:w,minGridRate:B,minHoldCount:b,gridCount:E,setGridCount:Ce}=rt();let H=F(D/w.value);H<B&&(H=B),Ce(Math.round(2e3/r/100)*100),E.value===0&&(E.value=100),b.value=E.value*2;let U=l.openPrice,k=U;for(let K=1;K<h.length;K++){const u=h[K];if(a===u.dateStr?(u.highPrice>y&&(y=u.highPrice),u.lowPrice<C&&(C=u.lowPrice),r=u.closePrice):(a=u.dateStr,U=u.openPrice,k=U,P=ee(r,y,C),y=u.highPrice,C=u.lowPrice,D=F((P.firstSalePrice-P.firstBuyPrice)/((P.firstSalePrice+P.firstBuyPrice)/2),2),H=F(D/w.value),H<B&&(H=B)),d.value<b.value&&u.openPrice>P.firstBuyPrice&&u.openPrice<P.firstSalePrice){const g=b.value-d.value,S=F(g*u.openPrice,2);if(k=u.openPrice,p.value<S){A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u5EFA\u4ED3${g}\uFF0C \u5E02\u503C\uFFE5 ${(u.openPrice*d.value+p.value).toFixed(2)}`);continue}d.value=F(d.value+g),p.value=F(p.value-S),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A \u4F4E\u4E8E\u6700\u5C0F\u6301\u4ED3\uFF0C\uFFE5${u.openPrice} \u4E70\u5165 ${g} \u80A1 , \u652F\u51FA \uFFE5${S} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.closePrice*d.value+p.value).toFixed(2)}`)}const j=u.openPrice/k-1;if(Math.abs(j)>H){if(d.value>0&&u.openPrice>P.highSalePrice){const g=d.value,S=F(g*u.openPrice,2);k=u.openPrice,d.value=F(d.value-g),p.value=F(p.value+S),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u6B62\u76C8\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${S} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.openPrice*d.value+p.value).toFixed(2)}`)}else if(d.value>0&&u.openPrice<P.lowBuyPrice)if(u.openPrice<P.lowBuyPrice*.98){const g=d.value,S=F(g*u.openPrice,2);k=u.openPrice,d.value=F(d.value-g),p.value=F(p.value+S),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u6B62\u635F\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${S} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C \uFFE5${(u.openPrice*d.value+p.value).toFixed(2)}`)}else{const g=e(u,E.value*2);if(g.isSuccess)k=g.lastOptPrice;else continue}else if(j>0&&d.value-E.value>=b.value){const g=E.value,S=F(g*u.openPrice,2);k=u.openPrice,d.value=F(d.value-g),p.value=F(p.value+S),A.value.push(`${u.dateStr} ${u.timeStr}\uFF1A\uFFE5${u.openPrice} \u7F51\u683C\u5356\u51FA ${g} \u80A1 , \u6536\u5165 \uFFE5${S} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(u.openPrice*d.value+p.value).toFixed(2)}`)}else if(j<0&&u.openPrice>P.lowBuyPrice){const g=e(u,E.value);if(g.isSuccess)k=g.lastOptPrice;else continue}}}A.value.push(`\u5F53\u524D\u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value}\uFF0C  \u5E02\u503C \uFFE5${(h[h.length-1].closePrice*d.value+p.value).toFixed(2)}`)}else ae.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")},e=(i,n)=>{const c=F(n*i.openPrice,2);return p.value<c?(A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u4F59\u989D \uFFE5${p.value} \u4E0D\u8DB3\u4EE5\u8D2D\u4E70\u672C\u6B21\u7F51\u683C\uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*d.value+p.value).toFixed(2)}`),{isSuccess:!1,lastOptPrice:0}):(d.value=F(d.value+n),p.value=F(p.value-c),A.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u7F51\u683C\u4E70\u5165 ${n} \u80A1 , \u652F\u51FA \uFFE5${c} \uFF0C \u6301\u4ED3 ${d.value} \uFF0C  \u4F59\u989D \uFFE5${p.value} \uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*d.value+p.value).toFixed(2)}`),{isSuccess:!0,lastOptPrice:i.openPrice})};return{isShowBacktestingLog:ie,backtestingLogs:A,holdCount:d,totalMoney:p,runBacktesting:t,closeBacktesting:async()=>{ie.value=!1}}}var Y=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s};const dt={class:"flex justify-center items-center p-4"},ft=re("\u770B\u5B8C\u4E86"),pt=R({setup(t){const{isShowBacktestingLog:e,backtestingLogs:s,closeBacktesting:i}=xe();return(n,c)=>{const h=le;return Me((v(),m("div",{class:"backtesting-log-bg",onClick:c[1]||(c[1]=W((...l)=>_(i)&&_(i)(...l),["stop"]))},[o("div",{class:"backtesting-log-box",onClick:c[0]||(c[0]=W(()=>{},["stop"]))},[(v(!0),m(G,null,T(_(s),(l,a)=>(v(),m("div",{class:q(["backtesting-log-item",{"log-buy":l.includes("\u7F51\u683C\u4E70\u5165"),"log-sale":l.includes("\u7F51\u683C\u5356\u51FA"),"log-stop-profit":l.includes("\u6B62\u76C8\u5356\u51FA"),"log-stop-loss":l.includes("\u6B62\u635F\u5356\u51FA")}]),key:a},f(l),3))),128)),o("div",dt,[$(h,{type:"danger",icon:_(He),onClick:W(_(i),["stop"])},{default:O(()=>[ft]),_:1},8,["icon","onClick"])])])],512)),[[Ne,_(e)]])}}});var ye=Y(pt,[["__scopeId","data-v-0cea8205"]]);const V=t=>(Ge("data-v-3b6c8fd8"),t=t(),Te(),t),ht={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},Ft={class:"absolute top-3 left-3 opacity-50"},vt={class:"row p-2"},_t={class:"flex-1 text-center truncate"},gt={class:"row"},Pt=V(()=>o("div",{class:"column"},"\u64CD\u4F5C",-1)),mt={class:"p-1"},xt={class:"p-1"},yt={class:"p-1"},Ct={class:"row bg-red-400"},St=V(()=>o("div",{class:"column"},"\u6781\u9650\u83B7\u5229\u4F4D",-1)),$t={class:"column"},Et={class:"row bg-red-300"},At=V(()=>o("div",{class:"column"},"\u7B2C\u4E00\u538B\u529B\u4F4D",-1)),Bt={class:"column"},wt={class:"row bg-green-300"},kt=V(()=>o("div",{class:"column"},"\u7B2C\u4E00\u652F\u6491\u4F4D",-1)),Dt={class:"column"},bt={class:"row bg-green-400"},Rt=V(()=>o("div",{class:"column"},"\u6781\u9650\u6284\u5E95\u4F4D",-1)),Mt={class:"column"},Nt={class:"row"},Ht=V(()=>o("div",{class:"column"},"\u632F\u5E45",-1)),It={class:"column"},Vt=R({setup(t){const{historyRows:e,historyFillRowCount:s,delHistory:i}=J(),{runBacktesting:n}=xe();return(c,h)=>{const l=Pe,a=ge,y=le,C=de;return _(e)&&_(e).length>0?(v(),m("div",ht,[(v(!0),m(G,null,T(_(e),(r,P)=>(v(),m("div",{class:"next-price-box relative rounded-md shadow-md shadow-gray-300",key:P},[o("div",Ft,[r.nowPrice.closePrice<=r.nextPrice.firstBuyPrice?(v(),N(l,{key:0})):M("",!0),r.nowPrice.closePrice>=r.nextPrice.firstSalePrice?(v(),N(a,{key:1})):M("",!0)]),o("div",vt,[o("span",_t,f(`${r.code} ${r.name}`),1),$(y,{class:"w-min",type:"primary",icon:_(Ie),circle:"",onClick:D=>_(n)(`${r.market}.${r.code}`)},null,8,["icon","onClick"]),$(y,{class:"w-min",type:"danger",icon:_(Ve),circle:"",onClick:D=>_(i)(r)},null,8,["icon","onClick"])]),o("div",gt,[Pt,o("div",{class:q(["column close-price-green cursor-pointer",{"close-price-red":r.nowPrice.closePrice>=(r.nextPrice.firstSalePrice+r.nextPrice.firstBuyPrice)/2}])},[$(C,{placement:"top-start",trigger:"hover"},{reference:O(()=>[re("\u4EF7\u683C("+f(r.nowPrice.closePrice.toFixed(3))+")",1)]),default:O(()=>[o("div",null,[o("p",mt,"\u9AD8\uFF1A"+f(r.nowPrice.highPrice.toFixed(3)),1),o("p",xt,"\u4F4E\uFF1A"+f(r.nowPrice.lowPrice.toFixed(3)),1),o("p",yt,"\u5F00\uFF1A"+f(r.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)],2)]),o("div",Ct,[St,o("div",$t,f(r.nextPrice.highSalePrice.toFixed(3))+"(+"+f(r.nextPrice.highSaleRate.toFixed(2))+"%)",1)]),o("div",Et,[At,o("div",Bt,f(r.nextPrice.firstSalePrice.toFixed(3))+"(+"+f(r.nextPrice.firstSaleRate.toFixed(2))+"%)",1)]),o("div",wt,[kt,o("div",Dt,f(r.nextPrice.firstBuyPrice.toFixed(3))+"(-"+f(r.nextPrice.firstBuyRate.toFixed(2))+"%)",1)]),o("div",bt,[Rt,o("div",Mt,f(r.nextPrice.lowBuyPrice.toFixed(3))+"(-"+f(r.nextPrice.lowBuyRate.toFixed(2))+"%)",1)]),o("div",Nt,[Ht,o("div",It,f((r.nextPrice.firstSaleRate+r.nextPrice.firstBuyRate).toFixed(2))+"% - "+f((r.nextPrice.highSaleRate+r.nextPrice.lowBuyRate).toFixed(2))+"% ",1)])]))),128)),(v(!0),m(G,null,T(_(s),r=>(v(),m("div",{class:"next-price-box invisible",key:r}))),128)),$(ye)])):M("",!0)}}});var Gt=Y(Vt,[["__scopeId","data-v-3b6c8fd8"]]),Tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArlJREFUWEfFl1nITVEUx3/fE1GmF7wrGUvIECFCyVhEhpJSHlBIeEHCCzIkb5QhooyliBAZ4sWc8iZjMhXFC/2/9ql11rfPPfue6+uuOnXP2Wv47bWHtW4LTZaWJsenCkAXYCTQMzyaw8fw3Ad+1DOpVIDuwCpgNDC5JMBV4C6wH/haBpMCsAJYDfQtc+bGXwH7gEO17MoAzgGz6gzs1c8Ds4t81AJQ+ro1GDwz/wZoGdtIEcBJYP5/Cp65OQUs8D5jAJuBLUbxLHAAGAdMB4YmgMn+FrASmGP09X2rtfcAQ4A7QCejNAG4ad4F+MU8GuphHhtgPHDD2L4DhgHvs28eIJb6RcCJhFnHVBYCx91ALgsWQGQPI17WAbsrAqwFdjnbN0Af4I++W4BNwHan/BuYFJalCsMY4BrQwRkvAw57AK2V1syKZrCnSmRjsyaSQe0p7a1cBl4A/VywwcDTBgEGAU+cj5dAfw+gne0vC11E3xsE6AroIrKiS04nJ5eBn+74aby9AH4BnT2AToBOgpX2WoJHwHAPcBRY7ABUgnULNiK6DVWarRwDlniAjcAOp/gBGAu8rkig834b6OXsdeR3eoCZgEqnF5XkpRU2ozbfkYJSrBJ/wQPoXZ3MqAiEvus8P0jMxIhwf6iD8nIvdFat330tyO7u58A8YABw2nh4FshVWvXbysBQwpVJ/S6SXG2JleMroe/LICa6TXQRUJCYCHZujeDqF6fY8RiAar6CSC4D0wCVYF3Tj8NG/VQQRMdWOkUyA7hUBqBxbbrWYgFMBZSVVPlboKglPePHavWE6oT3BoPrwNvQ+68vIYkBRIPLT1lXrNSrLdefkEzKbCyAlkMlvs3MU51JrzewHNgAdEyAFoCKzzbgIKCeolDKZmMNM5BcUxnxrKwp8OeUTVMPQIq/unWaDvAPFJGAIVce/UQAAAAASUVORK5CYII=";const Ot={},Yt=o("h1",{class:"flex justify-center items-center flex-wrap"},[o("span",{class:"text-3xl font-bold p-4"},"\u4EF7\u683C\u9884\u6D4B"),o("a",{class:"cursor-pointer",href:"https://github.com/adams549659584/grid-quant",target:"_blank"},[o("img",{src:Tt,alt:"https://github.com/adams549659584/grid-quant"})])],-1),Jt=[Yt];function Lt(t,e){return v(),m("header",null,Jt)}var zt=Y(Ot,[["render",Lt]]);const Ut={},Kt=o("div",{class:"p-4 text-gray-400"},[o("p",{class:"flex justify-center items-center flex-wrap space-x-2"},[o("span",null,"MIT Licensed | Copyright \xA9 2022"),o("a",{href:"https://github.com/adams549659584",target:"_blank"},"adams549659584")])],-1),jt=[Kt];function Qt(t,e){return v(),m("footer",null,jt)}var qt=Y(Ut,[["render",Qt]]);const Wt={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},Xt={class:"absolute top-3 left-3 opacity-50"},Zt={class:"row p-2 text-center truncate"},es={class:"row cursor-pointer"},ts={class:"p-1"},ss={class:"p-1"},is={class:"p-1"},ns={class:"row bg-red-400"},cs={class:"row bg-red-300"},os={class:"row bg-green-300"},us={class:"row bg-green-400"},as={class:"row"},ls=R({setup(t){const{historyRows:e,historyFillRowCount:s}=J();return(i,n)=>{const c=Pe,h=ge,l=de;return _(e)&&_(e).length>0?(v(),m("div",Wt,[(v(!0),m(G,null,T(_(e),(a,y)=>(v(),m("div",{class:"next-price-box relative rounded-md shadow-md shadow-gray-300",key:y},[o("div",Xt,[a.nowPrice.closePrice<=a.nextPrice.firstBuyPrice?(v(),N(c,{key:0})):M("",!0),a.nowPrice.closePrice>=a.nextPrice.firstSalePrice?(v(),N(h,{key:1})):M("",!0)]),o("div",Zt,f(`${a.code} ${a.name}`),1),o("div",es,[$(l,{placement:"top-start",trigger:"hover"},{reference:O(()=>[o("span",{class:q({"close-price-red":a.nowPrice.closePrice>=(a.nextPrice.firstSalePrice+a.nextPrice.firstBuyPrice)/2})}," \u4EF7\u683C("+f(a.nowPrice.closePrice.toFixed(3))+")",3)]),default:O(()=>[o("div",null,[o("p",ts,"\u9AD8\uFF1A"+f(a.nowPrice.highPrice.toFixed(3)),1),o("p",ss,"\u4F4E\uFF1A"+f(a.nowPrice.lowPrice.toFixed(3)),1),o("p",is,"\u5F00\uFF1A"+f(a.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)]),o("div",ns,f(a.nextPrice.highSalePrice.toFixed(3))+"(+"+f(a.nextPrice.highSaleRate.toFixed(2))+"%)",1),o("div",cs,f(a.nextPrice.firstSalePrice.toFixed(3))+"(+"+f(a.nextPrice.firstSaleRate.toFixed(2))+"%)",1),o("div",os,f(a.nextPrice.firstBuyPrice.toFixed(3))+"(-"+f(a.nextPrice.firstBuyRate.toFixed(2))+"%)",1),o("div",us,f(a.nextPrice.lowBuyPrice.toFixed(3))+"(-"+f(a.nextPrice.lowBuyRate.toFixed(2))+"%)",1),o("div",as,f((a.nextPrice.firstSaleRate+a.nextPrice.firstBuyRate).toFixed(2))+"% - "+f((a.nextPrice.highSaleRate+a.nextPrice.lowBuyRate).toFixed(2))+"% ",1)]))),128)),(v(!0),m(G,null,T(_(s),a=>(v(),m("div",{class:"next-price-box invisible",key:a}))),128)),$(ye)])):M("",!0)}}});var rs=Y(ls,[["__scopeId","data-v-c5068278"]]);const ds={class:"flex justify-center items-center flex-wrap space-x-4"},fs=R({setup(t){const e=x(0),s=x(1e3*10),i=["1.510050","0.159602","1.561990","1.510500","1.512100","1.516970","0.159928","1.512670","1.512660","1.516110","1.512000","1.512480","1.516160","1.515030","1.515790","0.159867","0.159790","1.512760","1.516100","0.159997","0.159755","1.512980","0.159828","1.512170","0.159883","1.513050","1.513330","0.159967","0.159745","1.512200","0.159825","0.159996","0.159992","1.515250","1.516780","1.516150","1.511220","1.511260","0.159905","1.511380","1.513500","0.161834","1.501022","0.159981","1.512890","1.512690","1.513100","1.513300","1.510650"],{isTradeTime:n,isShowNextSwitchChange:c,nextSwitch:h,calcNext:l}=L();let{historyRows:a,getHistory:y}=J();const{simpleSwitch:C}=L(),r=async()=>{P()},P=async()=>{a.value&&a.value.length>0?a.value.forEach(w=>l(`${w.market}.${w.code}`)):i.forEach(w=>l(w)),n&&(e.value=window.setTimeout(()=>{P()},s.value))},D=()=>{a.value=y(),P()};return Oe(()=>{D()}),Ye(()=>{e.value&&clearTimeout(e.value)}),(w,B)=>{const b=Je;return v(),m("div",null,[$(zt),o("main",null,[o("header",ds,[_(c)?(v(),N(b,{key:0,modelValue:_(h),"onUpdate:modelValue":B[0]||(B[0]=E=>Q(h)?h.value=E:null),"inline-prompt":"","active-text":"\u9884","inactive-text":"\u56DE",onChange:r},null,8,["modelValue"])):M("",!0),$(et),$(b,{modelValue:_(C),"onUpdate:modelValue":B[1]||(B[1]=E=>Q(C)?C.value=E:null),"inline-prompt":"","active-text":"\u7B80","inactive-text":"\u8BE6"},null,8,["modelValue"])]),o("main",null,[_(C)?(v(),N(rs,{key:0})):(v(),N(Gt,{key:1}))])]),$(qt)])}}});Le(fs).mount("#app");
