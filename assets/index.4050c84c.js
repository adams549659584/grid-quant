var Ce=Object.defineProperty,Se=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ne=(e,t,s)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ue=(e,t)=>{for(var s in t||(t={}))Ae.call(t,s)&&ne(e,s,t[s]);if(oe)for(var s of oe(t))Be.call(t,s)&&ne(e,s,t[s]);return e},ae=(e,t)=>Se(e,Ee(t));import{f as $e,r as P,c as le,E as re,d as H,a as we,o as v,b as g,e as C,u as F,i as q,s as ke,g as be,h as De,w as Me,v as Re,j as u,F as V,k as L,n as W,t as d,l as G,m as He,p as X,q as de,x as fe,y as b,z as D,A as Ne,B as ze,C as Ie,D as Ve,G as Le,H as Ge}from"./vendor.1af4654b.js";const Te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};Te();function Z(e,t){return $e(e,t||{timeout:1e3*5,jsonpCallback:"cb"}).then(s=>s.json())}function Oe(e,t=1,s=10){const i=`https://searchapi.eastmoney.com/api/Info/Search?appid=el1902262&type=14&token=CCSDCZSDCXYMYZYYSYYXSMDDSMDHHDJT&and14=MultiMatch/Name,Code,PinYin/${e}/true&returnfields14=Name,Code,PinYin,MarketType,JYS,MktNum,JYS4App,MktNum4App,ID,Classify,IsExactMatch,SecurityType,SecurityTypeName&pageIndex14=${t}&pageSize14=${s}&isAssociation14=false1642753371132`;return Z(i)}function pe(e){return e&&e.data&&e.data.klines&&(e.data.klineDatas=e.data.klines.map(t=>{const s=t.split(","),i=s[0];let o=i,n="";return i.includes(" ")&&([o,n]=i.split(" ")),{dateStr:o,timeStr:n,openPrice:parseFloat(s[1]),closePrice:parseFloat(s[2]),highPrice:parseFloat(s[3]),lowPrice:parseFloat(s[4])}})),e}async function Ye(e){const t=`https://push2his.eastmoney.com/api/qt/stock/kline/get?fields1=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&beg=0&end=20500101&ut=fa5fd1943c7b386f172d6893dbfba10b&rtntype=6&secid=${e}&klt=5&fqt=1
  `,s=await Z(t);return pe(s)}async function Je(e,t){const s=`https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=${e}&ut=fa5fd1943c7b386f172d6893dbfba10b&fields1=f1,f2,f3,f4,f5,f6&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&klt=101&fqt=0&end=20500101&lmt=${t}&_=${Date.now()}`,i=await Z(s);return pe(i)}const ee="history_search_results";let N=P();const Ue=le(()=>{if(!N.value||N.value.length===0)return 0;const e=N.value.length,t=window.screen.width,{simpleSwitch:s}=J();return s?t>=1536?8-e%8:t>=1280?7-e%7:t>=1024?6-e%6:t>=768?4-e%4:2-e%2:t>=1536?5-e%5:t>=1280?4-e%4:t>=1024?3-e%3:t>=768?2-e%2:0});function Y(){const e=()=>{const i=localStorage.getItem(ee);return i?JSON.parse(i):[]};return{historyRows:N,historyFillRowCount:Ue,getHistory:e,updateHistory:(i,o=!1)=>{let n=e();const p=c=>i.market===c.market&&i.code===c.code&&i.name===c.name;if(o)n=n.filter(c=>!p(c)),n=[i,...n];else{const c=n.findIndex(p);c>-1?n[c]=i:n=[i,...n]}N.value=n,localStorage.setItem(ee,JSON.stringify(n))},delHistory:i=>{let o=e();o=o.filter(n=>!(i.market===n.market&&i.code===n.code&&i.name===n.name)),N.value=o,localStorage.setItem(ee,JSON.stringify(o))}}}function Ke(e,t){const s={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"f+":e.getMilliseconds()};for(const i in s)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,s[i].toString().padStart(RegExp.$1.length,"0")));return t}function he(e){return Ke(new Date,e)}function h(e=1,t=3){const s=Math.pow(10,t);return Math.round(e*s)/s}function te(e,t,s){const i=t-s,o=(t+s+e*2)/4,n=h(o+i),p=h(o*2-s),c=h(o*2-t),a=h(o-i);return{highSalePrice:n,highSaleRate:h((n/e-1)*100,2),firstSalePrice:p,firstSaleRate:h((p/e-1)*100,2),firstBuyPrice:c,firstBuyRate:h((e/c-1)*100,2),lowBuyPrice:a,lowBuyRate:h((e/a-1)*100,2)}}const ve=Number(he("Hmm")),Fe=ve>=930&&ve<=1500,je=!Fe,me=P(!0),Qe=P(!1);function J(){const{updateHistory:e}=Y();return{isTradeTime:Fe,isShowNextSwitchChange:je,nextSwitch:me,simpleSwitch:Qe,calcNext:async(s,i=!1)=>{const o=await Je(s,2);if(o&&o.data&&o.data.klineDatas&&o.data.klineDatas.length===2){const n=o.data.klineDatas,p=he("yyyy-MM-dd"),c=!me.value||n[1].dateStr===p&&new Date().getHours()<15?n[0]:n[1],a=te(c.closePrice,c.highPrice,c.lowPrice);e({market:o.data.market,code:o.data.code,name:o.data.name,nowPrice:n[1],nextPrice:a},i)}else re.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")}}}const _e=P(""),U=P(),se=P(!1),ce=P("");function qe(){return{searchKeyword:_e,searchResultRows:U,secid:ce,loading:se,query:async(s,i)=>{if(s){se.value=!0;const o=await Oe(s);U.value=o.Data||[],se.value=!1}else U.value=[];i(U.value.map(o=>ae(ue({},o),{Text:`${o.Code} ${o.Name} ${o.SecurityTypeName}`})))},selectChange:async s=>{if(!s)return;_e.value="",ce.value=`${s.MktNum}.${s.Code}`;const{calcNext:i}=J();return i(ce.value,!0)}}}const We=H({setup(e){const{searchKeyword:t,query:s,selectChange:i}=qe();return(o,n)=>{const p=we;return v(),g("div",null,[C(p,{modelValue:F(t),"onUpdate:modelValue":n[0]||(n[0]=c=>q(t)?t.value=c:null),"fetch-suggestions":F(s),"value-key":"Text","highlight-first-item":"",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968/\u57FA\u91D1\u4EE3\u7801",maxlength:"10","prefix-icon":F(ke),clearable:"",onSelect:F(i)},null,8,["modelValue","fetch-suggestions","prefix-icon","onSelect"])])}}}),Xe=.008,Ze=P(5),et=P(1e3),ge=P(400);function tt(){return{minGridRate:Xe,minGridOptCount:Ze,minHoldCount:et,gridCount:ge,setGridCount:t=>{ge.value=t}}}const ie=P(!1),E=P([]),r=P(0),f=P(1e5);function Pe(){const e=async i=>{const o=be.service({lock:!0}),n=await Ye(i);if(o.close(),n&&n.data&&n.data.klineDatas&&n.data.klineDatas.length>0){ie.value=!0,E.value=[],r.value=0,f.value=1e5,E.value.push(`\u521D\u59CB\u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value}`);const p=n.data.klineDatas,c=p[0];let a=c.dateStr,A=c.highPrice,y=c.lowPrice,M=c.closePrice,_=te(M,A,y),I=h((_.firstSalePrice-_.firstBuyPrice)/((_.firstSalePrice+_.firstBuyPrice)/2),2);const{minGridOptCount:$,minGridRate:B,minHoldCount:k,gridCount:S,setGridCount:xe}=tt();let R=h(I/$.value);R<B&&(R=B),xe(Math.round(2e3/M/100)*100),S.value===0&&(S.value=100),k.value=S.value*2;let K=c.openPrice,w=K;for(let j=1;j<p.length;j++){const l=p[j];if(a===l.dateStr?(l.highPrice>A&&(A=l.highPrice),l.lowPrice<y&&(y=l.lowPrice),M=l.closePrice):(a=l.dateStr,K=l.openPrice,w=K,_=te(M,A,y),A=l.highPrice,y=l.lowPrice,I=h((_.firstSalePrice-_.firstBuyPrice)/((_.firstSalePrice+_.firstBuyPrice)/2),2),R=h(I/$.value),R<B&&(R=B)),r.value<k.value&&l.openPrice>_.firstBuyPrice&&l.openPrice<_.firstSalePrice){const m=k.value-r.value,x=h(m*l.openPrice,2);if(w=l.openPrice,f.value<x){E.value.push(`${l.dateStr} ${l.timeStr}\uFF1A\uFFE5${l.openPrice} \u4F59\u989D \uFFE5${f.value} \u4E0D\u8DB3\u4EE5\u5EFA\u4ED3${m}\uFF0C \u5E02\u503C\uFFE5 ${(l.openPrice*r.value+f.value).toFixed(2)}`);continue}r.value=h(r.value+m),f.value=h(f.value-x),E.value.push(`${l.dateStr} ${l.timeStr}\uFF1A \u4F4E\u4E8E\u6700\u5C0F\u6301\u4ED3\uFF0C\uFFE5${l.openPrice} \u4E70\u5165 ${m} \u80A1 , \u652F\u51FA \uFFE5${x} \uFF0C \u6301\u4ED3 ${r.value} \uFF0C \u4F59\u989D \uFFE5${f.value} \uFF0C \u5E02\u503C \uFFE5${(l.closePrice*r.value+f.value).toFixed(2)}`)}const Q=l.openPrice/w-1;if(Math.abs(Q)>R){if(r.value>0&&l.openPrice>_.highSalePrice){const m=r.value,x=h(m*l.openPrice,2);w=l.openPrice,r.value=h(r.value-m),f.value=h(f.value+x),E.value.push(`${l.dateStr} ${l.timeStr}\uFF1A\uFFE5${l.openPrice} \u6B62\u76C8\u5356\u51FA ${m} \u80A1 , \u6536\u5165 \uFFE5${x} \uFF0C \u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value} \uFF0C \u5E02\u503C \uFFE5${(l.openPrice*r.value+f.value).toFixed(2)}`)}else if(r.value>0&&l.openPrice<_.lowBuyPrice)if(l.openPrice<_.lowBuyPrice*.98){const m=r.value,x=h(m*l.openPrice,2);w=l.openPrice,r.value=h(r.value-m),f.value=h(f.value+x),E.value.push(`${l.dateStr} ${l.timeStr}\uFF1A\uFFE5${l.openPrice} \u6B62\u635F\u5356\u51FA ${m} \u80A1 , \u6536\u5165 \uFFE5${x} \uFF0C \u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value} \uFF0C \u5E02\u503C \uFFE5${(l.openPrice*r.value+f.value).toFixed(2)}`)}else{const m=t(l,S.value*2);if(m.isSuccess)w=m.lastOptPrice;else continue}else if(Q>0&&r.value-S.value>=k.value){const m=S.value,x=h(m*l.openPrice,2);w=l.openPrice,r.value=h(r.value-m),f.value=h(f.value+x),E.value.push(`${l.dateStr} ${l.timeStr}\uFF1A\uFFE5${l.openPrice} \u7F51\u683C\u5356\u51FA ${m} \u80A1 , \u6536\u5165 \uFFE5${x} \uFF0C \u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value} \uFF0C \u5E02\u503C\uFFE5 ${(l.openPrice*r.value+f.value).toFixed(2)}`)}else if(Q<0&&l.openPrice>_.lowBuyPrice){const m=t(l,S.value);if(m.isSuccess)w=m.lastOptPrice;else continue}}}E.value.push(`\u5F53\u524D\u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value}\uFF0C  \u5E02\u503C \uFFE5${(p[p.length-1].closePrice*r.value+f.value).toFixed(2)}`)}else re.error("\u83B7\u53D6K\u7EBF\u6570\u636E\u5F02\u5E38")},t=(i,o)=>{const n=h(o*i.openPrice,2);return f.value<n?(E.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u4F59\u989D \uFFE5${f.value} \u4E0D\u8DB3\u4EE5\u8D2D\u4E70\u672C\u6B21\u7F51\u683C\uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*r.value+f.value).toFixed(2)}`),{isSuccess:!1,lastOptPrice:0}):(r.value=h(r.value+o),f.value=h(f.value-n),E.value.push(`${i.dateStr} ${i.timeStr}\uFF1A\uFFE5${i.openPrice} \u7F51\u683C\u4E70\u5165 ${o} \u80A1 , \u652F\u51FA \uFFE5${n} \uFF0C \u6301\u4ED3 ${r.value} \uFF0C  \u4F59\u989D \uFFE5${f.value} \uFF0C \u5E02\u503C\uFFE5 ${(i.openPrice*r.value+f.value).toFixed(2)}`),{isSuccess:!0,lastOptPrice:i.openPrice})};return{isShowBacktestingLog:ie,backtestingLogs:E,holdCount:r,totalMoney:f,runBacktesting:e,closeBacktesting:async()=>{ie.value=!1}}}var T=(e,t)=>{const s=e.__vccOpts||e;for(const[i,o]of t)s[i]=o;return s};const st={class:"flex justify-center items-center p-4"},ct=de("\u770B\u5B8C\u4E86"),it=H({setup(e){const{isShowBacktestingLog:t,backtestingLogs:s,closeBacktesting:i}=Pe();return(o,n)=>{const p=De;return Me((v(),g("div",{class:"backtesting-log-bg",onClick:n[1]||(n[1]=X((...c)=>F(i)&&F(i)(...c),["stop"]))},[u("div",{class:"backtesting-log-box",onClick:n[0]||(n[0]=X(()=>{},["stop"]))},[(v(!0),g(V,null,L(F(s),(c,a)=>(v(),g("div",{class:W(["backtesting-log-item",{"log-buy":c.includes("\u7F51\u683C\u4E70\u5165"),"log-sale":c.includes("\u7F51\u683C\u5356\u51FA"),"log-stop-profit":c.includes("\u6B62\u76C8\u5356\u51FA"),"log-stop-loss":c.includes("\u6B62\u635F\u5356\u51FA")}]),key:a},d(c),3))),128)),u("div",st,[C(p,{type:"danger",icon:F(He),onClick:X(F(i),["stop"])},{default:G(()=>[ct]),_:1},8,["icon","onClick"])])])],512)),[[Re,F(t)]])}}});var ye=T(it,[["__scopeId","data-v-0cea8205"]]);const ot={class:"w-full h-full","aria-hidden":"true"},nt=["xlink:href","fill"],O=H({props:{prefix:{default:"icon"},name:null,color:{default:"#333"}},setup(e){const t=e,s=le(()=>`#${t.prefix}-${t.name}`);return(i,o)=>(v(),g("svg",ot,[u("use",{"xlink:href":F(s),fill:e.color},null,8,nt)]))}});const z=e=>(Ne("data-v-38366c94"),e=e(),ze(),e),ut={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},at={class:"absolute top-3 left-3 opacity-50 w-[4rem] h-[4rem]"},lt={class:"row p-2 space-x-1"},rt={class:"flex-1 text-center truncate"},dt={class:"row"},ft=z(()=>u("div",{class:"column"},"\u64CD\u4F5C",-1)),pt={class:"p-1"},ht={class:"p-1"},vt={class:"p-1"},Ft={class:"row bg-red-400"},mt=z(()=>u("div",{class:"column"},"\u6781\u9650\u83B7\u5229\u4F4D",-1)),_t={class:"column"},gt={class:"row bg-red-300"},Pt=z(()=>u("div",{class:"column"},"\u7B2C\u4E00\u538B\u529B\u4F4D",-1)),yt={class:"column"},xt={class:"row bg-green-300"},Ct=z(()=>u("div",{class:"column"},"\u7B2C\u4E00\u652F\u6491\u4F4D",-1)),St={class:"column"},Et={class:"row bg-green-400"},At=z(()=>u("div",{class:"column"},"\u6781\u9650\u6284\u5E95\u4F4D",-1)),Bt={class:"column"},$t={class:"row"},wt=z(()=>u("div",{class:"column"},"\u632F\u5E45",-1)),kt={class:"column"},bt=H({setup(e){const{historyRows:t,historyFillRowCount:s,delHistory:i}=Y(),{runBacktesting:o}=Pe();return(n,p)=>{const c=fe;return F(t)&&F(t).length>0?(v(),g("div",ut,[(v(!0),g(V,null,L(F(t),(a,A)=>(v(),g("div",{class:"next-price-box relative rounded-md shadow-md shadow-gray-300",key:A},[u("div",at,[a.nowPrice.closePrice<=a.nextPrice.firstBuyPrice?(v(),D(O,{key:0,name:"buy",color:"#d81e06"})):b("",!0),a.nowPrice.closePrice>=a.nextPrice.firstSalePrice?(v(),D(O,{key:1,name:"sale",color:"#1afa29"})):b("",!0)]),u("div",lt,[u("span",rt,d(`${a.code} ${a.name}`),1),C(O,{class:"w-[2rem] h-[2rem] cursor-pointer",name:"backtesting",color:"#1296db",onClick:y=>F(o)(`${a.market}.${a.code}`)},null,8,["onClick"]),C(O,{class:"w-[2rem] h-[2rem] cursor-pointer",name:"delete",color:"#fff",onClick:y=>F(i)(a)},null,8,["onClick"])]),u("div",dt,[ft,u("div",{class:W(["column close-price-green cursor-pointer",{"close-price-red":a.nowPrice.closePrice>=(a.nextPrice.firstSalePrice+a.nextPrice.firstBuyPrice)/2}])},[C(c,{placement:"top-start",trigger:"hover"},{reference:G(()=>[de("\u4EF7\u683C("+d(a.nowPrice.closePrice.toFixed(3))+")",1)]),default:G(()=>[u("div",null,[u("p",pt,"\u9AD8\uFF1A"+d(a.nowPrice.highPrice.toFixed(3)),1),u("p",ht,"\u4F4E\uFF1A"+d(a.nowPrice.lowPrice.toFixed(3)),1),u("p",vt,"\u5F00\uFF1A"+d(a.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)],2)]),u("div",Ft,[mt,u("div",_t,d(a.nextPrice.highSalePrice.toFixed(3))+"(+"+d(a.nextPrice.highSaleRate.toFixed(2))+"%)",1)]),u("div",gt,[Pt,u("div",yt,d(a.nextPrice.firstSalePrice.toFixed(3))+"(+"+d(a.nextPrice.firstSaleRate.toFixed(2))+"%)",1)]),u("div",xt,[Ct,u("div",St,d(a.nextPrice.firstBuyPrice.toFixed(3))+"(-"+d(a.nextPrice.firstBuyRate.toFixed(2))+"%)",1)]),u("div",Et,[At,u("div",Bt,d(a.nextPrice.lowBuyPrice.toFixed(3))+"(-"+d(a.nextPrice.lowBuyRate.toFixed(2))+"%)",1)]),u("div",$t,[wt,u("div",kt,d((a.nextPrice.firstSaleRate+a.nextPrice.firstBuyRate).toFixed(2))+"% - "+d((a.nextPrice.highSaleRate+a.nextPrice.lowBuyRate).toFixed(2))+"%",1)])]))),128)),(v(!0),g(V,null,L(F(s),a=>(v(),g("div",{class:"next-price-box invisible",key:a}))),128)),C(ye)])):b("",!0)}}});var Dt=T(bt,[["__scopeId","data-v-38366c94"]]),Mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArlJREFUWEfFl1nITVEUx3/fE1GmF7wrGUvIECFCyVhEhpJSHlBIeEHCCzIkb5QhooyliBAZ4sWc8iZjMhXFC/2/9ql11rfPPfue6+uuOnXP2Wv47bWHtW4LTZaWJsenCkAXYCTQMzyaw8fw3Ad+1DOpVIDuwCpgNDC5JMBV4C6wH/haBpMCsAJYDfQtc+bGXwH7gEO17MoAzgGz6gzs1c8Ds4t81AJQ+ro1GDwz/wZoGdtIEcBJYP5/Cp65OQUs8D5jAJuBLUbxLHAAGAdMB4YmgMn+FrASmGP09X2rtfcAQ4A7QCejNAG4ad4F+MU8GuphHhtgPHDD2L4DhgHvs28eIJb6RcCJhFnHVBYCx91ALgsWQGQPI17WAbsrAqwFdjnbN0Af4I++W4BNwHan/BuYFJalCsMY4BrQwRkvAw57AK2V1syKZrCnSmRjsyaSQe0p7a1cBl4A/VywwcDTBgEGAU+cj5dAfw+gne0vC11E3xsE6AroIrKiS04nJ5eBn+74aby9AH4BnT2AToBOgpX2WoJHwHAPcBRY7ABUgnULNiK6DVWarRwDlniAjcAOp/gBGAu8rkig834b6OXsdeR3eoCZgEqnF5XkpRU2ozbfkYJSrBJ/wQPoXZ3MqAiEvus8P0jMxIhwf6iD8nIvdFat330tyO7u58A8YABw2nh4FshVWvXbysBQwpVJ/S6SXG2JleMroe/LICa6TXQRUJCYCHZujeDqF6fY8RiAar6CSC4D0wCVYF3Tj8NG/VQQRMdWOkUyA7hUBqBxbbrWYgFMBZSVVPlboKglPePHavWE6oT3BoPrwNvQ+68vIYkBRIPLT1lXrNSrLdefkEzKbCyAlkMlvs3MU51JrzewHNgAdEyAFoCKzzbgIKCeolDKZmMNM5BcUxnxrKwp8OeUTVMPQIq/unWaDvAPFJGAIVce/UQAAAAASUVORK5CYII=";const Rt={},Ht=u("h1",{class:"flex justify-center items-center flex-wrap"},[u("span",{class:"text-3xl font-bold p-4"},"\u4EF7\u683C\u9884\u6D4B"),u("a",{class:"cursor-pointer",href:"https://github.com/adams549659584/grid-quant",target:"_blank"},[u("img",{src:Mt,alt:"https://github.com/adams549659584/grid-quant"})])],-1),Nt=[Ht];function zt(e,t){return v(),g("header",null,Nt)}var It=T(Rt,[["render",zt]]);const Vt={},Lt=u("div",{class:"p-4 text-gray-400"},[u("p",{class:"flex justify-center items-center flex-wrap space-x-2"},[u("span",null,"MIT Licensed | Copyright \xA9 2022"),u("a",{href:"https://github.com/adams549659584",target:"_blank"},"adams549659584")])],-1),Gt=[Lt];function Tt(e,t){return v(),g("footer",null,Gt)}var Ot=T(Vt,[["render",Tt]]);const Yt={key:0,class:"flex justify-around items-center flex-wrap text-gray-800"},Jt={class:"absolute top-3 left-3 opacity-50 w-[4rem] h-[4rem]"},Ut={class:"row p-2 text-center truncate"},Kt={class:"row cursor-pointer"},jt={class:"p-1"},Qt={class:"p-1"},qt={class:"p-1"},Wt={class:"row bg-red-400"},Xt={class:"row bg-red-300"},Zt={class:"row bg-green-300"},e1={class:"row bg-green-400"},t1={class:"row"},s1=H({setup(e){const{historyRows:t,historyFillRowCount:s}=Y();return(i,o)=>{const n=O,p=fe;return F(t)&&F(t).length>0?(v(),g("div",Yt,[(v(!0),g(V,null,L(F(t),(c,a)=>(v(),g("div",{class:"next-price-box relative rounded-md shadow-md shadow-gray-300",key:a},[u("div",Jt,[c.nowPrice.closePrice<=c.nextPrice.firstBuyPrice?(v(),D(n,{key:0,name:"buy",color:"#d81e06"})):b("",!0),c.nowPrice.closePrice>=c.nextPrice.firstSalePrice?(v(),D(n,{key:1,name:"sale",color:"#1afa29"})):b("",!0)]),u("div",Ut,d(`${c.code} ${c.name}`),1),u("div",Kt,[C(p,{placement:"top-start",trigger:"hover"},{reference:G(()=>[u("span",{class:W({"close-price-red":c.nowPrice.closePrice>=(c.nextPrice.firstSalePrice+c.nextPrice.firstBuyPrice)/2})},"\u4EF7\u683C("+d(c.nowPrice.closePrice.toFixed(3))+")",3)]),default:G(()=>[u("div",null,[u("p",jt,"\u9AD8\uFF1A"+d(c.nowPrice.highPrice.toFixed(3)),1),u("p",Qt,"\u4F4E\uFF1A"+d(c.nowPrice.lowPrice.toFixed(3)),1),u("p",qt,"\u5F00\uFF1A"+d(c.nowPrice.openPrice.toFixed(3)),1)])]),_:2},1024)]),u("div",Wt,d(c.nextPrice.highSalePrice.toFixed(3))+"(+"+d(c.nextPrice.highSaleRate.toFixed(2))+"%)",1),u("div",Xt,d(c.nextPrice.firstSalePrice.toFixed(3))+"(+"+d(c.nextPrice.firstSaleRate.toFixed(2))+"%)",1),u("div",Zt,d(c.nextPrice.firstBuyPrice.toFixed(3))+"(-"+d(c.nextPrice.firstBuyRate.toFixed(2))+"%)",1),u("div",e1,d(c.nextPrice.lowBuyPrice.toFixed(3))+"(-"+d(c.nextPrice.lowBuyRate.toFixed(2))+"%)",1),u("div",t1,d((c.nextPrice.firstSaleRate+c.nextPrice.firstBuyRate).toFixed(2))+"% - "+d((c.nextPrice.highSaleRate+c.nextPrice.lowBuyRate).toFixed(2))+"%",1)]))),128)),(v(!0),g(V,null,L(F(s),c=>(v(),g("div",{class:"next-price-box invisible",key:c}))),128)),C(ye)])):b("",!0)}}});var c1=T(s1,[["__scopeId","data-v-793c0a80"]]);const i1={class:"flex justify-center items-center flex-wrap space-x-4"},o1=H({setup(e){const t=P(0),s=P(1e3*10),i=["1.510050","0.159602","1.561990","1.510500","1.512100","1.516970","0.159928","1.512670","1.512660","1.516110","1.512000","1.512480","1.516160","1.515030","1.515790","0.159867","0.159790","1.512760","1.516100","0.159997","0.159755","1.512980","0.159828","1.512170","0.159883","1.513050","1.513330","0.159967","0.159745","1.512200","0.159825","0.159996","0.159992","1.515250","1.516780","1.516150","1.511220","1.511260","0.159905","1.511380","1.513500","0.161834","1.501022","0.159981","1.512890","1.512690","1.513100","1.513300","1.510650"],{isTradeTime:o,isShowNextSwitchChange:n,nextSwitch:p,calcNext:c}=J();let{historyRows:a,getHistory:A}=Y();const{simpleSwitch:y}=J(),M=async()=>{_()},_=async()=>{a.value&&a.value.length>0?a.value.forEach($=>c(`${$.market}.${$.code}`)):i.forEach($=>c($)),o&&(t.value=window.setTimeout(()=>{_()},s.value))},I=()=>{a.value=A(),_()};return Ie(()=>{I()}),Ve(()=>{t.value&&clearTimeout(t.value)}),($,B)=>{const k=Le;return v(),g("div",null,[C(It),u("main",null,[u("header",i1,[F(n)?(v(),D(k,{key:0,modelValue:F(p),"onUpdate:modelValue":B[0]||(B[0]=S=>q(p)?p.value=S:null),"inline-prompt":"","active-text":"\u9884","inactive-text":"\u56DE",onChange:M},null,8,["modelValue"])):b("",!0),C(We),C(k,{modelValue:F(y),"onUpdate:modelValue":B[1]||(B[1]=S=>q(y)?y.value=S:null),"inline-prompt":"","active-text":"\u7B80","inactive-text":"\u8BE6"},null,8,["modelValue"])]),u("main",null,[F(y)?(v(),D(c1,{key:0})):(v(),D(Dt,{key:1}))])]),C(Ot)])}}});if(typeof window!="undefined"){let e=function(){var t=document.body,s=document.getElementById("__svg__icons__dom__");s||(s=document.createElementNS("http://www.w3.org/2000/svg","svg"),s.style.position="absolute",s.style.width="0",s.style.height="0",s.id="__svg__icons__dom__",s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),s.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-backtesting"><path d="M518.4 300.8c-55.1 0-100-44.8-100-99.9 0-55.1 44.8-100 100-100 55.1 0 99.9 44.8 99.9 100 0 55-44.8 99.9-99.9 99.9zm0-165.7c-36.2 0-65.7 29.5-65.7 65.7s29.5 65.7 65.7 65.7 65.7-29.5 65.7-65.7-29.5-65.7-65.7-65.7zm359.4 419.4c14.4-150.7-63.3-292.6-198.2-361.4-8.5-4.4-18.7-1-23 7.5-4.3 8.4-1 18.7 7.5 23 122.2 62.4 192.8 191 179.7 327.6-.9 9.4 6 17.8 15.4 18.7.6.1 1.1.1 1.7.1 8.6 0 16-6.6 16.9-15.5zm-712.5 15.4c9.4-.9 16.3-9.3 15.4-18.7-13.1-136.6 57.5-265.2 179.7-327.6 8.4-4.3 11.8-14.6 7.5-23-4.3-8.4-14.6-11.8-23-7.5C210 261.9 132.2 403.8 146.7 554.5c.8 8.8 8.3 15.5 17 15.5.5 0 1.1 0 1.6-.1zm589.8 252.7c7.2-6.1 8.1-16.9 2-24.1-6.1-7.2-16.9-8.1-24.1-2-59.8 50.7-136.1 78.7-214.6 78.7-80 0-157.4-28.9-217.7-81.3-7.1-6.2-18-5.5-24.1 1.7-6.2 7.1-5.4 17.9 1.7 24.1 66.6 57.8 151.9 89.7 240.2 89.7 86.5 0 170.6-30.8 236.6-86.8zm71.7-44.6c-55.1 0-99.9-44.8-99.9-99.9s44.8-99.9 99.9-99.9 99.9 44.8 99.9 99.9-44.8 99.9-99.9 99.9zm0-165.7c-36.2 0-65.7 29.5-65.7 65.7s29.5 65.7 65.7 65.7 65.7-29.5 65.7-65.7c.1-36.2-29.4-65.7-65.7-65.7zm-631 170.9c-55.1 0-99.9-44.8-99.9-100 0-55.1 44.8-99.9 99.9-99.9s99.9 44.8 99.9 99.9c.1 55.2-44.8 100-99.9 100zm0-165.7c-36.2 0-65.7 29.5-65.7 65.7s29.5 65.7 65.7 65.7 65.7-29.5 65.7-65.7c.1-36.2-29.4-65.7-65.7-65.7z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-buy"><path d="M511.66.625C229.2.625.227 229.598.227 512.057S229.2 1023.488 511.66 1023.488c282.459 0 511.432-228.973 511.432-511.432S794.119.625 511.66.625zm0 953.123c-243.912 0-441.692-197.758-441.692-441.691 0-243.934 197.78-441.692 441.692-441.692 243.956 0 441.692 197.758 441.692 441.692 0 243.933-197.737 441.691-441.692 441.691z" /><path d="M510.57 344.391h57.436v117.721c-1.09 24.189-4.268 47.618-9.49 70.297h199.188v56.913H539.582l-8.943 17.855c76.596 31.988 148.971 67.505 217.031 106.564l-40.727 44.632c-65.475-40.172-134.26-76.245-206.454-108.243-.727.749-1.089 1.316-1.089 1.68-41.273 43.895-107.518 77.551-198.644 100.979l-32.918-51.33c92.987-23.429 155.872-53.18 188.609-89.265a384.943 384.943 0 0 0 16.163-22.873H265.615v-56.913h232.65c6.311-20.818 10.443-44.258 12.305-70.297v-117.72zm-225.432-78.663h433.518v36.267c-8.58 33.474-19.16 66.018-31.781 97.63l-54.123-15.619c10.762-20.092 19.342-41.659 25.654-64.724H285.138v-53.554zm33.508 145.61c43.861 17.118 82.363 37.016 115.463 59.707l-30.103 45.744c-36.46-27.9-74.055-49.648-112.738-65.279l27.378-40.172zm50.172-75.87c43.906 16.368 83.726 35.518 119.413 57.459l-30.104 45.756c-37.958-26.788-76.823-47.606-116.643-62.487l27.334-40.728z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-close"><path d="M872.803 755.994h.061v-.37ZM927.847 511.998c0-229.316-186.568-415.84-415.84-415.84-229.328 0-415.853 186.524-415.853 415.84 0 229.3 186.525 415.84 415.854 415.84 229.27 0 415.839-186.54 415.839-415.84m-415.84 356.174c-196.375 0-356.172-159.827-356.172-356.174 0-196.375 159.797-356.158 356.173-356.158 196.345 0 356.144 159.783 356.144 356.158 0 196.347-159.8 356.174-356.144 356.174" /><path d="M682.379 642.228 553.797 513.265 682.261 386.23c11.662-11.515 11.75-30.333.235-41.996-11.515-11.677-30.363-11.766-42.027-.222L511.89 471.196 385.223 344.13c-11.602-11.604-30.393-11.662-42.025-.06-11.603 11.619-11.603 30.408-.06 42.012l126.52 126.888-127.52 126.134c-11.663 11.544-11.78 30.305-.236 41.97 5.831 5.89 13.43 8.833 21.087 8.833a29.81 29.81 0 0 0 20.91-8.57l127.695-126.311 128.7 129.169c5.802 5.8 13.428 8.717 21.056 8.717 7.6 0 15.165-2.917 20.969-8.659 11.604-11.572 11.631-30.364.06-42.026" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-delete"><path d="M106.667 213.333h810.666V256H106.667zM640 128v42.667h42.667V128c0-23.573-19.094-42.667-42.539-42.667H383.872A42.496 42.496 0 0 0 341.333 128v42.667H384V128h256zM213.333 896V256h-42.666v639.957c0 23.595 18.986 42.71 42.709 42.71h597.248c23.595 0 42.71-18.987 42.71-42.71V256h-42.667v640H213.333z" fill="#d81e06" /><path d="M320 341.333h42.667v384H320zm170.667 0h42.666v384h-42.666zm170.666 0H704v384h-42.667z" fill="#d81e06" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-kline"><path d="M59.699 508.006a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z" fill="#8486F8" /><path d="M723.456 244.48h-425.83c-47.616 0-86.221 38.605-86.221 86.22v354.612c0 47.616 38.605 86.22 86.22 86.22h425.831c47.616 0 86.22-38.604 86.22-86.22V330.701c0-47.616-38.604-86.221-86.22-86.221zM396.493 662.118c0 14.03-11.367 25.396-25.395 25.396s-25.396-11.367-25.396-25.396v-78.13c0-14.03 11.367-25.396 25.396-25.396s25.395 11.366 25.395 25.395v78.131zm94.054 0c0 14.03-11.366 25.396-25.395 25.396s-25.395-11.367-25.395-25.396v-151.09c0-14.03 11.366-25.396 25.395-25.396s25.395 11.366 25.395 25.395v151.091zm94.003 0a25.395 25.395 0 0 1-25.395 25.396 25.395 25.395 0 0 1-25.395-25.396v-116.48a25.395 25.395 0 0 1 25.395-25.395 25.395 25.395 0 0 1 25.395 25.395v116.48zm94.055 0a25.395 25.395 0 0 1-25.395 25.396 25.395 25.395 0 0 1-25.396-25.396V480.614a25.395 25.395 0 0 1 25.396-25.395 25.395 25.395 0 0 1 25.395 25.395v181.504zm-3.175-277.81-92.62 80.025a25.508 25.508 0 0 1-31.95 1.075l-82.482-62.31-85.965 76.8c-4.864 4.352-10.906 6.502-16.947 6.502a25.318 25.318 0 0 1-18.944-8.5c-9.37-10.444-8.448-26.52 1.996-35.89l101.53-90.727a25.416 25.416 0 0 1 32.256-1.331l82.79 62.464 77.108-66.56a25.436 25.436 0 0 1 35.84 2.611 25.436 25.436 0 0 1-2.612 35.84z" fill="#FFF" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-sale"><path d="M511.5.681C229.003.681 0 229.684 0 512.182c0 282.496 229.004 511.5 511.5 511.5 282.498 0 511.5-229.004 511.5-511.5C1023 229.684 793.998.681 511.5.681zm0 953.251c-243.943 0-441.75-197.807-441.75-441.75 0-243.989 197.807-441.751 441.75-441.751 243.99 0 441.75 197.762 441.75 441.751 0 243.943-197.76 441.75-441.75 441.75z" /><path d="M330.154 498.218c39.802 13.01 77.743 29.403 113.821 49.111l-24.521 37.372H511.5c4.836-15.984 7.992-31.424 9.49-46.318v-90.957h56.355v90.957c-1.113 16.394-3.338 31.833-6.676 46.318h176.328v55.265H548.895l-5.584 8.9c69.182 20.116 133.164 43.911 191.971 71.43l-32.922 50.769c-62.508-34.216-126.877-61.734-193.084-82.556-40.188 34.58-106.033 61.372-197.534 80.331L280.5 719.184c92.251-18.232 154.576-40.732 186.931-67.502l11.716-11.716h-203.12v-55.265h127.217c-32.354-18.981-65.845-34.217-100.425-45.751l27.335-40.732zm-47.975-117.182H483.05v-37.372H323.457v-52.449H483.05v-37.963h56.922v37.963h156.234v52.449H539.973v37.372h195.309v36.283c-8.219 37.917-19.367 75.336-33.512 112.163l-54.674-15.644c10.807-21.57 20.457-48.157 29.016-79.786H282.179v-53.016zm94.862 59.148c40.166 10.784 78.65 24.93 115.479 42.413l-28.995 44.07c-37.576-20.071-75.54-35.511-113.82-46.318l27.336-40.165z" /></symbol>',t.insertBefore(s,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}Ge(o1).mount("#app");
